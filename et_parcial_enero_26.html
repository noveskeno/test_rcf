<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PARCIAL - ENERO 2026</title>
<style>
:root{--bg:#0b132b;--card:#1c2541;--accent:#5bc0be;--ok:#21c17a;--bad:#ff5d73;--text:#f5f7ff;--warning:#ffc107}
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,system-ui,-apple-system,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;background:linear-gradient(135deg,var(--bg),#0f1a3a);color:var(--text);min-height:100vh;font-size:14px}
.header{padding:12px 10px;text-align:center;border-bottom:1px solid rgba(255,255,255,.08);position:sticky;top:0;background:rgba(11,19,43,.98);backdrop-filter:blur(10px);z-index:100;position:relative}
.header h1{margin:0 0 6px 0;font-size:1.2rem;font-weight:700}
.back-btn{position:absolute;left:10px;top:50%;transform:translateY(-50%);width:36px;height:36px;padding:0;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.15);border-radius:50%;color:var(--text);text-decoration:none;font-size:18px;transition:all .2s;line-height:1;display:flex;align-items:center;justify-content:center}
.back-btn:active{background:rgba(255,255,255,.15);transform:translateY(-50%) scale(.95)}
.badge{display:inline-block;padding:3px 10px;border-radius:999px;background:rgba(255,255,255,.08);font-size:11px;margin-top:4px}
.container{max-width:1000px;margin:0 auto;padding:10px 8px 200px}
.progress-bar{background:rgba(255,255,255,.1);height:3px;border-radius:999px;margin:8px 0;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),#3a9d9a);width:0%;transition:width .3s ease}
.card{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px;margin:8px 0;box-shadow:0 4px 12px rgba(0,0,0,.2)}
.q-title{font-weight:600;margin-bottom:10px;line-height:1.4;font-size:14px}
.q-number{color:var(--accent);font-size:11px;font-weight:700;margin-bottom:6px;display:block}
.options{display:grid;grid-template-columns:1fr;gap:6px}
.option{background:#121a34;border:2px solid rgba(255,255,255,.08);padding:8px;border-radius:8px;display:flex;align-items:flex-start;gap:8px;cursor:pointer;transition:all .2s;font-size:13px;line-height:1.3}
.option:active{background:#1a2341;border-color:rgba(91,192,190,.3)}
.option input{margin-top:2px;cursor:pointer;flex-shrink:0}
.option div{flex:1}
.answer-key{display:none;margin-top:8px;padding:8px;background:rgba(91,192,190,.1);border-radius:6px;font-size:12px}
.answer-key b{color:var(--accent)}
.show-answers .answer-key{display:block}
.feedback{margin-top:6px;font-size:12px;font-weight:600;padding:6px;border-radius:4px}
.correct{border-color:rgba(33,193,122,.6)!important;background:rgba(33,193,122,.05)!important}
.incorrect{border-color:rgba(255,93,115,.75)!important;background:rgba(255,93,115,.05)!important}
.actions{position:fixed;bottom:0;left:0;right:0;background:linear-gradient(180deg,rgba(15,26,58,0),rgba(15,26,58,.99));padding:10px 8px;padding-bottom:calc(10px + env(safe-area-inset-bottom));backdrop-filter:blur(10px);border-top:1px solid rgba(255,255,255,.08);z-index:99}
.actions .bar{max-width:1000px;margin:0 auto;display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap}
button{background:var(--accent);border:none;color:#001018;font-weight:700;padding:10px 14px;border-radius:8px;cursor:pointer;transition:all .2s;font-size:13px;touch-action:manipulation}
button:active{background:var(--accent);opacity:.9;transform:scale(.98)}
button.secondary{background:transparent;border:1px solid rgba(255,255,255,.35);color:var(--text)}
button.secondary:active{background:rgba(255,255,255,.05)}
.score{font-weight:700;font-size:1rem}
.score-details{font-size:11px;color:var(--text);opacity:.8;margin-top:2px}
.footer{opacity:.8;font-size:11px;text-align:center;padding:15px;color:rgba(255,255,255,.5)}
@media (min-width: 720px){
  .options{grid-template-columns:1fr 1fr}
  body{font-size:15px}
  .card{padding:20px;margin:16px 0;border-radius:16px}
  .q-title{font-size:15px;margin-bottom:12px}
  .option{padding:12px;gap:10px;font-size:14px}
  .header{padding:20px 16px}
  .header h1{font-size:1.5rem;margin-bottom:8px}
  .container{padding:20px 16px 160px}
  button{padding:12px 18px;font-size:14px}
}
@media (max-width: 640px){
  .actions .bar{flex-direction:column;gap:6px}
  .score{text-align:center;width:100%;font-size:0.95rem}
  .actions{padding:8px 6px;padding-bottom:calc(8px + env(safe-area-inset-bottom))}
  button{padding:11px 12px}
  .btn-group{display:flex;gap:6px;width:100%}
  .btn-group button{flex:1}
}
.scroll-top{position:fixed;bottom:20px;right:20px;width:40px;height:40px;background:var(--accent);color:#fff;border:none;border-radius:50%;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.2);display:flex;align-items:center;justify-content:center;font-size:20px;z-index:99;opacity:0;visibility:hidden;transition:all .3s;touch-action:manipulation}
.scroll-top.visible{opacity:1;visibility:visible}
.scroll-top:active{transform:scale(.95)}
@media (max-width:640px){
  .scroll-top{width:36px;height:36px;bottom:16px;right:16px;font-size:18px}
}
</style>
</head>
<body>
  <div class="header">
    <a href="index.html" class="back-btn">‚Üê</a>
    <h1>PARCIAL - ENERO 2026</h1>
    <div class="badge">45 preguntas + 2</div>
    <div class="progress-bar">
      <div class="progress-fill" id="progressBar"></div>
    </div>
  </div>
  
  <div class="container" id="questionsContainer">
    <!-- Questions will be generated here -->
  </div>

  <div class="actions">
    <div class="bar">
      <div>
        <div class="score">Puntuaci√≥n: <span id="score">‚Äî</span></div>
        <div class="score-details" id="scoreDetails"></div>
      </div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;width:100%">
        <button onclick="calificar()" style="width:100%">üìä Calificar</button>
        <div class="btn-group">
          <button class="secondary" onclick="reiniciar()">üîÑ Reiniciar</button>
          <button class="secondary" onclick="toggleRespuestas(this)">üëÅÔ∏è Ver</button>
        </div>
      </div>
  </div>
  <button id="scrollTopBtn" class="scroll-top">‚Üë</button>
  
<script>
// Test data with questions and answers
const testData = {
  "1": {q: "En 1995 se produce la liberalizaci√≥n del mercado de transporte, a ra√≠z de esto. ¬øQu√© documentos son incorporados a nuestro derecho interno?", a: "C", opts: [
    {l: "A", t: "Reglamentos 95/18/UE y 95/19/UE."},
    {l: "B", t: "1 Reglamento 95/18 UE y una Directiva 96/22 CE."},
    {l: "C", t: "Directivas 95/18/CE y 95/19/CE."},
    {l: "D", t: "Ley de Ordenaci√≥n del Transporte Terrestre LOTT y la Ley 39/1996 Ley del Sector Ferroviario."}
  ]},
  "2": {q: "La entidad p√∫blica empresarial 'ADIF' podr√° construir las infraestructuras ferroviarias con cargo a sus propios recursos o a recursos ajenos, de acuerdo con lo que determine:", a: "B", opts: [
    {l: "A", t: "Gobierno de Espa√±a."},
    {l: "B", t: "Ministerio de Transportes."},
    {l: "C", t: "Agencia Estatal de Seguridad Ferroviaria."},
    {l: "D", t: "Gobierno de Espa√±a y la Uni√≥n Europea."}
  ]},
  "3": {q: "¬øCu√°les son las principales actividades de Adif?", a: "C", opts: [
    {l: "A", t: "Mantenimiento, conservaci√≥n y gesti√≥n de las l√≠neas existentes. Gesti√≥n del tr√°fico y asignaci√≥n de surcos. Construcci√≥n de nuevas l√≠neas. I+D."},
    {l: "B", t: "Mantenimiento y gesti√≥n de las l√≠neas existentes. Gesti√≥n del tr√°fico y asignaci√≥n de Capacidad. Mantenimiento de nuevas l√≠neas. I+D."},
    {l: "C", t: "Mantenimiento y gesti√≥n de las l√≠neas existentes. Gesti√≥n del tr√°fico y asignaci√≥n de Construcci√≥n de nuevas l√≠neas. I+D."},
    {l: "D", t: "Mantenimiento y conservaci√≥n de las l√≠neas existentes. Gesti√≥n del tr√°fico y asignaci√≥n de Capacidad. Construcci√≥n de nuevas l√≠neas. I+D."}
  ]},
  "4": {q: "La Red gestionada por ADIF est√° compuesta por l√≠neas principalmente de tr√°fico mixto, entendi√©ndose por tal...", a: "D", opts: [
    {l: "A", t: "... Ancho de v√≠a 1668 mm y 1435 mm."},
    {l: "B", t: "... Alta velocidad y Red Convencional."},
    {l: "C", t: "... Cercan√≠as, Media Distancia y Largo recorrido."},
    {l: "D", t: "... Mercanc√≠as y viajeros."}
  ]},
  "5": {q: "El trazado en planta de la infraestructura ferroviaria est√° compuesto por una sucesi√≥n de alineaciones rectas y circulares, unidas entre s√≠ mediante...", a: "A", opts: [
    {l: "A", t: "... Curvas de transici√≥n."},
    {l: "B", t: "... Las limitaciones que se imponen al radio de las curvas y a las pendientes y los g√°libos."},
    {l: "C", t: "... El trazado en planta y trazado en alzado."},
    {l: "D", t: "... Una base s√≥lida sobre la cual asentar el camino de rodadura a partir de un conjunto de obras de tierra y f√°brica."}
  ]},
  "6": {q: "¬øCu√°nto puede medir de ancho un Pont√≥n?", a: "B", opts: [
    {l: "A", t: "M√°s de 6 m. y hasta 10 m. y su uso puede ser como camino de acceso."},
    {l: "B", t: "Menos de 10 m. y su uso puede ser como camino de acceso."},
    {l: "C", t: "Entre 6 m. y 10 m. y su uso puede ser como camino de acceso."},
    {l: "D", t: "Entre 6¬¥5 m. y 10 m. y su uso puede ser como camino de acceso."}
  ]},
  "7": {q: "¬øCu√°l de los siguientes muros son m√°s flexibles?", a: "D", opts: [
    {l: "A", t: "Los proyectados."},
    {l: "B", t: "De contenci√≥n."},
    {l: "C", t: "De sostenimiento."},
    {l: "D", t: "De revestimiento."}
  ]},
  "8": {q: "¬øC√≥mo se denomina al edificio que aloja equipos interiores de los sistemas de energ√≠a, se√±alizaci√≥n, comunicaciones, vigilancia y monitorizaci√≥n, etc.", a: "B", opts: [
    {l: "A", t: "Edificio auxiliar."},
    {l: "B", t: "Edificio T√©cnico."},
    {l: "C", t: "Caseta de enclavamientos."},
    {l: "D", t: "Caseta de Rel√©s y enclavamientos."}
  ]},
  "9": {q: "¬øQu√© aparato de v√≠a representa el siguiente dibujo?", a: "C", opts: [
    {l: "A", t: "Desv√≠o."},
    {l: "B", t: "Bretelle."},
    {l: "C", t: "Escape."},
    {l: "D", t: "Haz de v√≠a."}
  ]},
  "10": {q: "¬øQu√© es una aguja a√©rea?", a: "D", opts: [
    {l: "A", t: "Aparato montado en el hilo de contacto que independiza el√©ctricamente una v√≠a o grupo de v√≠as de una misma estaci√≥n sin necesidad de cortar tensi√≥n en toda ella."},
    {l: "B", t: "Dispositivo que se realiza entre las dos catenarias o m√°s de un desv√≠o, cruzamiento o escape para permitir el paso de las circulaciones de una v√≠a a otra, sin discontinuidad en la alimentaci√≥n el√©ctrica."},
    {l: "C", t: "Dispositivo montado en el hilo de contacto que independiza el√©ctricamente una v√≠a o grupo de v√≠as de un conjunto de estaciones sin necesidad de cortar tensi√≥n en toda ella."},
    {l: "D", t: "Instalaci√≥n que se realiza entre las dos catenarias de un desv√≠o, cruzamiento o discontinuidad en la alimentaci√≥n el√©ctrica."}
  ]},
  "11": {q: "¬øQu√© garantiza la se√±alizaci√≥n en las estaciones?", a: "D", opts: [
    {l: "A", t: "Garantiza las compatibilidades en los trayectos."},
    {l: "B", t: "Evita las compatibilidades de movimientos de trenes y maniobras."},
    {l: "C", t: "Las incompatibilidades entre las se√±ales de dos estaciones colaterales, as√≠ como los trayectos afectados."},
    {l: "D", t: "La correcta disposici√≥n de los itinerarios, evitando los incompatibles."}
  ]},
  "12": {q: "Las se√±ales son la interfaz de informaci√≥n m√°s b√°sico entre:", a: "C", opts: [
    {l: "A", t: "Los responsables de Circulaci√≥n y los maquinistas."},
    {l: "B", t: "El personal de infraestructura, Responsables de Circulaci√≥n y maquinistas."},
    {l: "C", t: "Todo el personal que interviene en procesos de circulaci√≥n y est√° debidamente habilitado."},
    {l: "D", t: "Los enclavamientos y bloqueos y el Maquinista."}
  ]},
  "13": {q: "¬øQu√© se supervisa con el sistema de protecci√≥n ASFA?", a: "B", opts: [
    {l: "A", t: "Se supervisa la velocidad del tren mediante la vigilancia continua de este, de modo que en el caso que exceda los valores establecidos, el sistema activa el freno de emergencia hasta que la velocidad se sit√∫a por debajo de los valores de supervisi√≥n."},
    {l: "B", t: "Se supervisa la velocidad del tren a partir de la puntual informaci√≥n de las se√±ales fijas, que recibe por medio de balizas."},
    {l: "C", t: "Prescinde de la se√±alizaci√≥n luminosa para emplear las balizas y comunicaci√≥n v√≠a radio entre su lugar. El maquinista ver√° en su puesto, la velocidad a la que debe ir y si debe parar al llegar a la pr√≥xima secci√≥n."},
    {l: "D", t: "Los equipos a instalar se superponen a la se√±alizaci√≥n luminosa actual. El sistema prev√© la inclusi√≥n de una baliza que transmite al tren el aspecto en el que se encuentra la se√±al siguiente."}
  ]},
  "14": {q: "¬øCu√°ndo deber√°n efectuarse los recorridos de Vigilancia a pie?", a: "C", opts: [
    {l: "A", t: "Deben efectuarse procurando que coincidan con los meses de mayo y noviembre, en los casos en los que se realicen."},
    {l: "B", t: "Deben efectuarse procurando que exista la dotaci√≥n de personal adecuada y en cualquier √©poca del a√±o, en los casos en los que se realicen."},
    {l: "C", t: "Deben efectuarse procurando que coincidan con los periodos anuales de inicio de calor o de fr√≠o (finales de primavera y oto√±o respectivamente), en los casos en los que se realicen."},
    {l: "D", t: "Si las inspecciones las realiza el coche de control geom√©trico, los recorridos de vigilancia a pie pueden ser realizadas en febrero y agosto."}
  ]},
  "15": {q: "¬øQu√© es Mantenimiento Preventivo?", a: "B", opts: [
    {l: "A", t: "Cualquier actividad de mantenimiento requerida para corregir un fallo que ha ocurrido o est√° ocurriendo."},
    {l: "B", t: "Estrategia de mantenimiento de equipos basada en la inspecci√≥n, revisi√≥n, sustituci√≥n o nueva fabricaci√≥n de un elemento en per√≠odos programados (basados en: tiempo, kil√≥metros, n√∫mero de ciclos de operaci√≥n...) de acuerdo a su condici√≥n en un momento dado."},
    {l: "C", t: "Plan de conservaci√≥n de las bases de mantenimiento basada en la observaci√≥n, de un elemento en per√≠odos programados (basados en: tiempo, kil√≥metros, n√∫mero de ciclos de operaci√≥n...) de acuerdo a su condici√≥n en un momento dado."},
    {l: "D", t: "Conjunto de medidas c√≠clicas, programables seg√∫n el estado de los instalados en v√≠a (carriles traviesas y aparatos)."}
  ]},
  "16": {q: "¬øQu√© veh√≠culo autopropulsado est√° destinado al servicio de la red?", a: "A", opts: [
    {l: "A", t: "Vagoneta."},
    {l: "B", t: "Bateadora."},
    {l: "C", t: "Estabilizadora."},
    {l: "D", t: "Perfiladora."}
  ]},
  "17": {q: "De acuerdo con la Ley 38/2015, del Sector Ferroviario, para ejercer las funciones de administraci√≥n de la RFIG los administradores de infraestructuras ferroviarias deber√°n disponer de:", a: "C", opts: [
    {l: "A", t: "Certificado de seguridad."},
    {l: "B", t: "Procedimiento de seguridad"},
    {l: "C", t: "Autorizaci√≥n de seguridad."},
    {l: "D", t: "Licencia de seguridad."}
  ]},
  "18": {q: "¬øCu√°l de los siguientes comportamientos no ser√° sancionable?", a: "B", opts: [
    {l: "A", t: "Negligencias que se producen conscientemente."},
    {l: "B", t: "Transgresiones no deliberadas"},
    {l: "C", t: "Actos de dolo, vandalismo y sabotaje."},
    {l: "D", t: "No reportar sucesos de seguridad detectados que, por motivos previsibles o evidentes, puedan entra√±ar un riesgo para las operaciones o las personas."}
  ]},
  "19": {q: "SGS. ¬øQu√© documentos dependen de los procedimientos operativos, que definen en m√°s detalle actividades muy concretas?", a: "D", opts: [
    {l: "A", t: "Procedimiento General."},
    {l: "B", t: "Procedimientos Espec√≠ficos."},
    {l: "C", t: "Instrucciones T√©cnicas."},
    {l: "D", t: "Documentaci√≥n reglamentaria de seguridad."}
  ]},
  "20": {q: "¬øQu√© documento publica el AI para garantizar la continuidad de la circulaci√≥n en caso de alteraci√≥n temporal del funcionamiento normal de la infraestructura?", a: "D", opts: [
    {l: "A", t: "CG ATO."},
    {l: "B", t: "CG CO."},
    {l: "C", t: "CG TE."},
    {l: "D", t: "CG CTO."}
  ]},
  "21": {q: "¬øCu√°l es la finalidad del documento Horario de los trenes?", a: "B", opts: [
    {l: "A", t: "Proporcionar a ADIF y Renfe la mayor informaci√≥n disponible para que √©stas puedan elaborar los documentos de su competencia."},
    {l: "B", t: "Proporcionar a las empresas ferroviarias la mayor informaci√≥n disponible para que √©stas puedan elaborar los documentos de su competencia."},
    {l: "C", t: "Documento interno elaborado por ADIF, para que todo el personal propio tenga conocimientos de normas de circulaci√≥n."},
    {l: "D", t: "Documento interno elaborado por ADIF, para que todo el personal con habilitaci√≥n de seguridad en vigor tenga conocimientos de normas de circulaci√≥n."}
  ]},
  "22": {q: "¬øEn qu√© documento perteneciente al Horario de los trenes se da a conocer las Bandas de Mantenimiento?", a: "A", opts: [
    {l: "A", t: "Cuadro de Velocidades M√°ximas."},
    {l: "B", t: "informaci√≥n de Circulaci√≥n de L√≠neas."},
    {l: "C", t: "Documento de Limitaciones Temporales de Velocidad M√°xima."},
    {l: "D", t: "Directorio de Esquemas de Estaciones y L√≠neas."}
  ]},
  "23": {q: "¬øCada cu√°nto tiempo se actualiza el DLTV en Red Convencional?", a: "D", opts: [
    {l: "A", t: "Mensualmente."},
    {l: "B", t: "Diariamente."},
    {l: "C", t: "Semanalmente."},
    {l: "D", t: "Cada Hora."}
  ]},
  "24": {q: "¬øEn qu√© documento se puede consultar la Relaci√≥n de Pasos a Nivel agrupados por l√≠nea y tramo de los puntos de regulaci√≥n colaterales?", a: "C", opts: [
    {l: "A", t: "Consigna AO."},
    {l: "B", t: "Consigna ATO."},
    {l: "C", t: "ICL Anual."},
    {l: "D", t: "ICL Mensual."}
  ]},
  "25": {q: "¬øQu√© documento regula, entre otros aspectos, la definici√≥n de las responsabilidades y obligaciones de su personal de servicio vinculado con la seguridad?", a: "A", opts: [
    {l: "A", t: "Ley del Sector Ferroviario 38/2015."},
    {l: "B", t: "Ley del Sector Ferroviario 39/2003."},
    {l: "C", t: "Norma Adif de Reglamentaci√≥n (NAR)."},
    {l: "D", t: "RD 664/2015."}
  ]},
  "26": {q: "Paso a nivel activo: es el que protege a los usuarios del paso o les avisa de la aproximaci√≥n del tren, mediante la activaci√≥n de dispositivos f√≠sicos situados en el paso, que le informan de cuando no es seguro cruzar √©ste. Dichos dispositivos pueden ser:", a: "B", opts: [
    {l: "A", t: "Pasivo y activo."},
    {l: "B", t: "Aviso y Protecci√≥n."},
    {l: "C", t: "Plena v√≠a y enclavados."},
    {l: "D", t: "Sin barreras y con barreras."}
  ]},
  "27": {q: "¬øC√≥mo se clasifican los Pasos a Nivel?", a: "C", opts: [
    {l: "A", t: "Pasivos y Activos."},
    {l: "B", t: "P, A1, A2, A3, A4."},
    {l: "C", t: "Seg√∫n su titularidad, su vida √∫til y su uso espec√≠fico."},
    {l: "D", t: "De plena v√≠a y de estaciones."}
  ]},
  "28": {q: "Pasos a Nivel. Los sistemas de protecci√≥n activos se componen de elementos instalados en el lado de la carretera o camino y en el lado de la v√≠a, ¬øCu√°l es una funci√≥n b√°sica?", a: "D", opts: [
    {l: "A", t: "Autocomprobaci√≥n del sistema y gesti√≥n de las alarmas causadas por aver√≠as o fallos en su funcionamiento."},
    {l: "B", t: "Aviso al usuario en caso de sucesi√≥n de trenes."},
    {l: "C", t: "Operaci√≥n manual en mando local."},
    {l: "D", t: "Indicaci√≥n al Maquinista del estado de protecci√≥n o desprotecci√≥n del PN, antes de llegar a √©ste."}
  ]},
  "29": {q: "¬øQu√© clase de Paso a Nivel ofrece protecci√≥n por el lado de la v√≠a?", a: "A", opts: [
    {l: "A", t: "A4."},
    {l: "B", t: "A3."},
    {l: "C", t: "A2."},
    {l: "D", t: "A1."}
  ]},
  "30": {q: "¬øCu√°l de los siguientes bloqueos debe ser obligatoriamente con CTC?", a: "B", opts: [
    {l: "A", t: "BLA."},
    {l: "B", t: "BSL."},
    {l: "C", t: "BA."},
    {l: "D", t: "BT."}
  ]},
  "31": {q: "Como norma general el ¬ø...? se asegura por medio de las se√±ales que protegen los cantones y por el sentido de la circulaci√≥n de los trenes. Se√±ale la respuesta correcta.", a: "C", opts: [
    {l: "A", t: "BT."},
    {l: "B", t: "BEM."},
    {l: "C", t: "BA."},
    {l: "D", t: "BCA."}
  ]},
  "32": {q: "Las se√±ales avanzadas no presentar√°n parada y las se√±ales de salida no presentar√°n anuncio de parada. ¬øA qu√© tipo de bloqueo corresponde dicha caracter√≠stica?", a: "C", opts: [
    {l: "A", t: "BAB."},
    {l: "B", t: "BAD."},
    {l: "C", t: "BLA."},
    {l: "D", t: "BSL."}
  ]},
  "33": {q: "¬øEn qu√© a√±o pasa RENFE a ser una 'sociedad estatal' con personalidad jur√≠dica propia e independiente del estado y adscrita al ministerio de Obras P√∫blicas, Transportes y Medio Ambiente?", a: "D", opts: [
    {l: "A", t: "2005."},
    {l: "B", t: "2006."},
    {l: "C", t: "2015."},
    {l: "D", t: "1994."}
  ]},
  "34": {q: "Normativa Ferroviaria Europea, de las siguientes afirmaciones, ¬øCu√°l corresponde a una directiva?", a: "C", opts: [
    {l: "A", t: "Se aplican directamente por los Estados Miembros y de manera uniforme."},
    {l: "B", t: "Es obligatorio su cumplimiento en todos sus elementos."},
    {l: "C", t: "Son de obligada transposici√≥n al ordenamiento jur√≠dico de cada uno de los Estados miembros."},
    {l: "D", t: "Aplicables desde la fecha de entrada en vigor."}
  ]},
  "35": {q: "En sus inicios, ¬øcu√°l fue el pilar fundamental en el que se basaba la pol√≠tica europea en materia de ferrocarriles?", a: "A", opts: [
    {l: "A", t: "Seguridad."},
    {l: "B", t: "Interoperabilidad."},
    {l: "C", t: "Libre comercio."},
    {l: "D", t: "Marco com√∫n legislativo."}
  ]},
  "36": {q: "Son niveles de seguridad que deben alcanzar al menos las diversas partes del sistema ferroviario y en todo su conjunto expresadas en criterio de aceptaci√≥n de los riesgos que existen en dicho sistema.", a: "C", opts: [
    {l: "A", t: "MCS."},
    {l: "B", t: "ICS."},
    {l: "C", t: "OCS."},
    {l: "D", t: "INS."}
  ]},
  "37": {q: "¬øCu√°l es una caracter√≠stica b√°sica de ADIF?", a: "B", opts: [
    {l: "A", t: "Construcci√≥n y renovaci√≥n de las infraestructuras ferroviarias"},
    {l: "B", t: "Es una entidad p√∫blica empresarial adscrita al Ministerio de Transportes."},
    {l: "C", t: "Gesti√≥n de la circulaci√≥n y los sistemas de seguridad y control."},
    {l: "D", t: "Prestar servicios adicionales, complementarios y auxiliares, fijar las tarifas y cobrarlas."}
  ]},
  "38": {q: "¬øQui√©n adjudica capacidad?", a: "D", opts: [
    {l: "A", t: "AESF."},
    {l: "B", t: "ADIF."},
    {l: "C", t: "EF."},
    {l: "D", t: "AI."}
  ]},
  "39": {q: "¬øQu√© documento define el concepto de Red Ferroviaria de Inter√©s General, sobre la que el Estado ejerce competencias plenas?", a: "A", opts: [
    {l: "A", t: "Ley 38/2015 del Sector Ferroviario."},
    {l: "B", t: "Real Decreto 810/2007, Reglamento de Seguridad Ferroviaria."},
    {l: "C", t: "LSF 39/2003."},
    {l: "D", t: "Real Decreto 623/2014."}
  ]},
  "40": {q: "¬øQu√© es consider√° Accidente Grave?", a: "A", opts: [
    {l: "A", t: "Suceso repentino, no deseado ni intencionado, o una cadena de sucesos de ese tipo, de consecuencias perjudiciales."},
    {l: "B", t: "Cualquier colisi√≥n o descarrilamiento de trenes con el resultado de al menos dos v√≠ctimas no mortales o de cuatro o m√°s heridos graves o grandes da√±os al material rodante, a la infraestructura o al medio ambiente."},
    {l: "C", t: "Cualquier colisi√≥n o descarrilamiento de trenes con el resultado de al menos una v√≠ctima mortal o de cinco o m√°s heridos graves o grandes da√±os al material rodante, a la infraestructura o al medio ambiente."},
    {l: "D", t: "Cualquier suceso, distinto de un accidente o un accidente, que afecte o pueda afectar a la seguridad de las operaciones ferroviarias."}
  ]},
  "41": {q: "En todo caso, para la conducci√≥n de veh√≠culos ferroviarios auxiliares por tramos de l√≠nea no exclusivos para trabajos de infraestructura, se exigir√° al titular de esta habilitaci√≥n estar en posesi√≥n de la licencia de conducci√≥n regulada en esta orden y del certificado correspondiente. ¬øDe qu√© habilitaci√≥n se trata?", a: "A", opts: [
    {l: "A", t: "AOT."},
    {l: "B", t: "OMI."},
    {l: "C", t: "Maquinista."},
    {l: "D", t: "ET."}
  ]},
  "42": {q: "A efectos de la Consigna C 64/16, se considerar√° el PPR como un medio de comunicaci√≥n con funcionalidad para:", a: "B", opts: [
    {l: "A", t: "Encargado de trabajos y Responsable de Circulaci√≥n."},
    {l: "B", t: "Responsable de Circulaci√≥n y Maquinista."},
    {l: "C", t: "Encargado de trabajos, Piloto de Seguridad, Responsable de Circulaci√≥n y Maquinista."},
    {l: "D", t: "Maquinista."}
  ]},
  "43": {q: "A efectos de la Consigna C 64/16, cuando un PPR se utilice en sustituci√≥n de un PMR ¬øQu√© se registrar√° en el PPR?", a: "B", opts: [
    {l: "A", t: "El n√∫mero de radiotelefon√≠a publica que tenga asignado, el ET, PS y RC."},
    {l: "B", t: "El n√∫mero de circulaci√≥n que ten√≠a el PMR al que sustituye."},
    {l: "C", t: "La Banda de Regulaci√≥n, m√°s el n√∫mero de radiotelefon√≠a publica que tenga asignado, el ET, PS, RC y Maquinista."},
    {l: "D", t: "El N¬∫ UIC de los veh√≠culos."}
  ]},
  "44": {q: "Simbolog√≠a. ¬øQu√© representa el siguiente s√≠mbolo?", a: "D", opts: [
    {l: "A", t: "Baliza ASFA de pie de se√±al en sentido de izquierda a derecha."},
    {l: "B", t: "Baliza ASFA previa de se√±al o de final de topera en sentido de izquierda a derecha."},
    {l: "C", t: "Baliza ASFA de pie de se√±alen sentido de derecha a Izquierda."},
    {l: "D", t: "Baliza ASFA previa de se√±al o de final de topera en sentido de derecha a izquierda."}
  ]},
  "45": {q: "Simbolog√≠a. ¬øQu√© representa el siguiente s√≠mbolo?", a: "C", opts: [
    {l: "A", t: "Paso inferior."},
    {l: "B", t: "Paso a nivel."},
    {l: "C", t: "Paso superior."},
    {l: "D", t: "Cruce entre andenes."}
  ]},
  "R1": {q: "¬øQu√© es ADIF?", a: "A", opts: [
    {l: "A", t: "Entidad p√∫blica empresarial."},
    {l: "B", t: "Ente p√∫blico dependiente del estado."},
    {l: "C", t: "Ente p√∫blico dependiente del estado y Comunidades Aut√≥nomas."},
    {l: "D", t: "Entidad Laboral Empresarial."}
  ]},
  "R2": {q: "Son veh√≠culos autopropulsados utilizados en la construcci√≥n, rehabilitaci√≥n o mantenimiento de la v√≠a, que mediante vibraciones y su propio peso asienta la v√≠a compact√°ndola.", a: "A", opts: [
    {l: "A", t: "Estabilizadora."},
    {l: "B", t: "Perfiladora."},
    {l: "C", t: "Bateadora."},
    {l: "D", t: "Desguarnecedora."}
  ]}
};


  let respuestasVisibles = false;
let totalPreguntas = Object.keys(testData).length;

// Generate all questions on page load
function generarTest() {
  const container = document.getElementById('questionsContainer');
  
  Object.keys(testData).forEach(qid => {
    const q = testData[qid];
    const card = document.createElement('div');
    card.className = 'card question';
    card.dataset.qid = qid;
    
    let opcionesHTML = '';
    q.opts.forEach(opt => {
      opcionesHTML += `
        <label class="option">
          <input type="radio" name="q${qid}" value="${opt.l}" onchange="updateProgress()" />
          <div><b>${opt.l})</b> ${opt.t}</div>
        </label>
      `;
    });

    const imagenHTML = q.img
  ? `<div style="margin:10px 0;text-align:center">
       <img src="${q.img}" alt="Imagen pregunta ${qid}"
            style="max-width:100%;border-radius:8px;border:1px solid rgba(255,255,255,.15)">
     </div>`
  : '';

    card.innerHTML = `
      <span class="q-number">Pregunta ${qid} de ${totalPreguntas}</span>
      <div class="q-title">${q.q}</div>
      ${imagenHTML}
      <div class="options">${opcionesHTML}</div>
      <div class="answer-key">‚úì Respuesta correcta: <b>${q.a}</b></div>
      <div class="feedback"></div>
    `;
    
    container.appendChild(card);
  });
}

// Update progress bar
function updateProgress() {
  const respondidas = document.querySelectorAll('input[type=radio]:checked').length;
  const porcentaje = (respondidas / totalPreguntas) * 100;
  document.getElementById('progressBar').style.width = porcentaje + '%';
}

// Grade the test
function calificar() {
  let correctas = 0;
  let incorrectas = 0;
  let sinResponder = 0;
  
  document.querySelectorAll('.question').forEach(card => {
    const qid = card.dataset.qid;
    const correcta = testData[qid].a;
    const seleccionada = card.querySelector('input[type=radio]:checked');
    
    card.querySelectorAll('.option').forEach(o => o.classList.remove('correct','incorrect'));
    
    if (seleccionada) {
      const letra = seleccionada.value;
      if (letra === correcta) {
        correctas++;
        seleccionada.closest('.option').classList.add('correct');
        card.querySelector('.feedback').textContent = '‚úî ¬°Correcto!';
        card.querySelector('.feedback').style.color = 'var(--ok)';
      } else {
        incorrectas++;
        seleccionada.closest('.option').classList.add('incorrect');
        card.querySelector('.feedback').innerHTML = `‚úñ Incorrecto ¬∑ La correcta es: <b>${correcta}</b>`;
        card.querySelector('.feedback').style.color = 'var(--bad)';
        const corr = card.querySelector(`input[value="${correcta}"]`);
        if (corr) corr.closest('.option').classList.add('correct');
      }
    } else {
      sinResponder++;
      card.querySelector('.feedback').textContent = '‚ö† Sin responder';
      card.querySelector('.feedback').style.color = 'var(--warning)';
    }
  });
  
  const porcentaje = Math.round((correctas / totalPreguntas) * 100);
  const aprobado = porcentaje >= 50;
  
  document.getElementById('score').textContent = `${correctas} / ${totalPreguntas} (${porcentaje}%)`;
  document.getElementById('score').style.color = aprobado ? 'var(--ok)' : 'var(--bad)';
  
  document.getElementById('scoreDetails').innerHTML = `
    ‚úî ${correctas} correctas ¬∑ ‚úñ ${incorrectas} incorrectas ¬∑ ‚ö† ${sinResponder} sin responder
  `;
  
  // Scroll to top to see results
 // window.scrollTo({top: 0, behavior: 'smooth'});
}

// Reset the test
function reiniciar() {
  document.querySelectorAll('input[type=radio]').forEach(r => r.checked = false);
  document.querySelectorAll('.option').forEach(o => o.classList.remove('correct','incorrect'));
  document.querySelectorAll('.feedback').forEach(f => {f.textContent=''; f.removeAttribute('style')});
  document.getElementById('score').textContent = '‚Äî';
  document.getElementById('score').removeAttribute('style');
  document.getElementById('scoreDetails').textContent = '';
  document.getElementById('progressBar').style.width = '0%';
  window.scrollTo({top: 0, behavior: 'smooth'});
}

// Toggle answer visibility
function toggleRespuestas(btn) {
  respuestasVisibles = !respuestasVisibles;
  document.body.classList.toggle('show-answers', respuestasVisibles);
  btn.textContent = respuestasVisibles ? 'üôà Ocultar respuestas' : 'üëÅÔ∏è Ver respuestas';
  
  if (respuestasVisibles) {
    document.querySelectorAll('.question').forEach(card => {
      const qid = card.dataset.qid;
      const correcta = testData[qid].a;
      card.querySelectorAll('.option').forEach(o => o.classList.remove('correct'));
      const corr = card.querySelector(`input[value="${correcta}"]`);
      if (corr) corr.closest('.option').classList.add('correct');
    });
  } else {
    document.querySelectorAll('.option').forEach(o => o.classList.remove('correct'));
  }
}

// Initialize test on page load
window.addEventListener('load', () => {
  generarTest();
});
// Scroll to top button functionality
const scrollTopBtn = document.getElementById('scrollTopBtn');

// Show/hide button based on scroll position
window.addEventListener('scroll', () => {
  if (window.pageYOffset > 300) {
    scrollTopBtn.classList.add('visible');
  } else {
    scrollTopBtn.classList.remove('visible');
  }
});

// Smooth scroll to top on click
scrollTopBtn.addEventListener('click', () => {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
});
</script>
</body>
</html>
