<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RCF VARIOS - 4</title>
<style>
:root{--bg:#0b132b;--card:#1c2541;--accent:#5bc0be;--ok:#21c17a;--bad:#ff5d73;--text:#f5f7ff;--warning:#ffc107}
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,system-ui,-apple-system,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;background:linear-gradient(135deg,var(--bg),#0f1a3a);color:var(--text);min-height:100vh;font-size:14px}
.header{padding:12px 10px;text-align:center;border-bottom:1px solid rgba(255,255,255,.08);position:sticky;top:0;background:rgba(11,19,43,.98);backdrop-filter:blur(10px);z-index:100;position:relative}
.header h1{margin:0 0 6px 0;font-size:1.2rem;font-weight:700}
.back-btn{position:absolute;left:10px;top:50%;transform:translateY(-50%);width:36px;height:36px;padding:0;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.15);border-radius:50%;color:var(--text);text-decoration:none;font-size:18px;transition:all .2s;line-height:1;display:flex;align-items:center;justify-content:center}
.back-btn:active{background:rgba(255,255,255,.15);transform:translateY(-50%) scale(.95)}
.badge{display:inline-block;padding:3px 10px;border-radius:999px;background:rgba(255,255,255,.08);font-size:11px;margin-top:4px}
.container{max-width:1000px;margin:0 auto;padding:10px 8px 100px}
.progress-bar{background:rgba(255,255,255,.1);height:3px;border-radius:999px;margin:8px 0;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),#3a9d9a);width:0%;transition:width .3s ease}
.card{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px;margin:8px 0;box-shadow:0 4px 12px rgba(0,0,0,.2)}
.q-title{font-weight:600;margin-bottom:10px;line-height:1.4;font-size:14px}
.q-number{color:var(--accent);font-size:11px;font-weight:700;margin-bottom:6px;display:block}
.options{display:grid;grid-template-columns:1fr;gap:6px}
.option{background:#121a34;border:2px solid rgba(255,255,255,.08);padding:8px;border-radius:8px;display:flex;align-items:flex-start;gap:8px;cursor:pointer;transition:all .2s;font-size:13px;line-height:1.3}
.option:active{background:#1a2341;border-color:rgba(91,192,190,.3)}
.option input{margin-top:2px;cursor:pointer;flex-shrink:0}
.option div{flex:1}
.answer-key{display:none;margin-top:8px;padding:8px;background:rgba(91,192,190,.1);border-radius:6px;font-size:12px}
.answer-key b{color:var(--accent)}
.show-answers .answer-key{display:block}
.feedback{margin-top:6px;font-size:12px;font-weight:600;padding:6px;border-radius:4px}
.correct{border-color:rgba(33,193,122,.6)!important;background:rgba(33,193,122,.05)!important}
.incorrect{border-color:rgba(255,93,115,.75)!important;background:rgba(255,93,115,.05)!important}
.actions{position:fixed;bottom:0;left:0;right:0;background:linear-gradient(180deg,rgba(15,26,58,0),rgba(15,26,58,.99));padding:10px 8px;padding-bottom:calc(10px + env(safe-area-inset-bottom));backdrop-filter:blur(10px);border-top:1px solid rgba(255,255,255,.08);z-index:99}
.actions .bar{max-width:1000px;margin:0 auto;display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap}
button{background:var(--accent);border:none;color:#001018;font-weight:700;padding:10px 14px;border-radius:8px;cursor:pointer;transition:all .2s;font-size:13px;touch-action:manipulation}
button:active{background:var(--accent);opacity:.9;transform:scale(.98)}
button.secondary{background:transparent;border:1px solid rgba(255,255,255,.35);color:var(--text)}
button.secondary:active{background:rgba(255,255,255,.05)}
.score{font-weight:700;font-size:1rem}
.score-details{font-size:11px;color:var(--text);opacity:.8;margin-top:2px}
.footer{opacity:.8;font-size:11px;text-align:center;padding:15px;color:rgba(255,255,255,.5)}
@media (min-width: 720px){
  .options{grid-template-columns:1fr 1fr}
  body{font-size:15px}
  .card{padding:20px;margin:16px 0;border-radius:16px}
  .q-title{font-size:15px;margin-bottom:12px}
  .option{padding:12px;gap:10px;font-size:14px}
  .header{padding:20px 16px}
  .header h1{font-size:1.5rem;margin-bottom:8px}
  .container{padding:20px 16px 120px}
  button{padding:12px 18px;font-size:14px}
}
@media (max-width: 640px){
  .actions .bar{flex-direction:column;gap:6px}
  .score{text-align:center;width:100%;font-size:0.95rem}
  .actions{padding:8px 6px;padding-bottom:calc(8px + env(safe-area-inset-bottom))}
  button{width:100%;padding:11px 12px}
}
.scroll-top{position:fixed;bottom:20px;right:20px;width:40px;height:40px;background:var(--accent);color:#fff;border:none;border-radius:50%;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.2);display:flex;align-items:center;justify-content:center;font-size:20px;z-index:99;opacity:0;visibility:hidden;transition:all .3s;touch-action:manipulation}
.scroll-top.visible{opacity:1;visibility:visible}
.scroll-top:active{transform:scale(.95)}
@media (max-width:640px){
  .scroll-top{width:36px;height:36px;bottom:16px;right:16px;font-size:18px}
}
</style>
</head>
<body>
  <div class="header">
    <a href="index.html" class="back-btn">‚Üê</a>
    <h1>RCF VARIOS - 4</h1>
    <div class="badge">61 preguntas</div>
    <div class="progress-bar">
      <div class="progress-fill" id="progressBar"></div>
    </div>
  </div>
  
  <div class="container" id="questionsContainer">
    <!-- Questions will be generated here -->
  </div>

  <div class="actions">
    <div class="bar">
      <div>
        <div class="score">Puntuaci√≥n: <span id="score">‚Äî</span></div>
        <div class="score-details" id="scoreDetails"></div>
      </div>
      <div style="display:flex;gap:12px;flex-wrap:wrap">
        <button onclick="calificar()">üìä Calificar</button>
        <button class="secondary" onclick="reiniciar()">üîÑ Reiniciar</button>
        <button class="secondary" onclick="toggleRespuestas(this)">üëÅÔ∏è Ver respuestas</button>
      </div>
    </div>
  </div>
  <button id="scrollTopBtn" class="scroll-top">‚Üë</button>
  
<script>
// Test data with questions and answers
// ????
const testData = {
  "1": {
      "q": "En qu√© documento se encuentran definidas las dimensiones, colores, materiales y caracter√≠sticas de las se√±ales fijas?",
      "a": "D",
      "opts": [
        {"l": "A", "t": "En el RCF"},
        {"l": "B", "t": "Cat√°logo de se√±ales de la EF y del AI"},
        {"l": "C", "t": "Libro oficial de se√±alizaci√≥n Ferroviaria"},
        {"l": "D", "t": "Cat√°logo oficial de Se√±ales Ferroviarias"}
      ]},
    "2": {
      "q": "En las obras de tierra, ¬øc√≥mo se denomina cuando la explanaci√≥n est√° m√°s baja que el terreno natural?",
      "a": "A",
      "opts": [
        {"l": "A", "t": "Trinchera"},
        {"l": "B", "t": "Terrapl√©n"},
        {"l": "C", "t": "T√∫nel"},
        {"l": "D", "t": "Viaducto"}
      ]},
    "3": {
      "q": "\"Centro espec√≠fico de AI encargado de la gesti√≥n y regulaci√≥n del tr√°fico en tiempo real\", ¬øa qu√© dependencia nos estamos refiriendo?",
      "a": "A",
      "opts": [
        {"l": "A", "t": "PM"},
        {"l": "B", "t": "Estaci√≥n telemandada"},
        {"l": "C", "t": "CTC"},
        {"l": "D", "t": "Estaci√≥n"}
      ]},
    "4": {
      "q": "¬øQu√© clase de protecci√≥n tiene un Paso a Nivel protegido en r√©gimen de consigna?",
      "a": "D",
      "opts": [
        {"l": "A", "t": "Clase B"},
        {"l": "B", "t": "Clase C"},
        {"l": "C", "t": "Clase A"},
        {"l": "D", "t": "Clase D"}
      ]},
    "5": {
      "q": "¬øC√≥mo se denomina la relaci√≥n de dependencia que se establece entre dos estaciones para poder expedir circulaciones de cada una de ellas hacia su colateral?",
      "a": "A",
      "opts": [
        {"l": "A", "t": "Bloqueo"},
        {"l": "B", "t": "Enclavamiento"},
        {"l": "C", "t": "Itinerario"},
        {"l": "D", "t": "Acuerdos"}
      ]},
    "6": {
      "q": "¬øC√≥mo se encuentra desarrollado el SGS de Adif?",
      "a": "D",
      "opts": [
        {"l": "A", "t": "Procedimientos generales, instrucciones de aplicaci√≥n, NAC, Consignas C y Avisos entre otros"},
        {"l": "B", "t": "Procedimientos generales e instrucciones t√©cnicas entre otros"},
        {"l": "C", "t": "Procedimientos gen√©ricos, especiales, operacionales e instrucciones generales entre otros"},
        {"l": "D", "t": "Procedimientos generales, espec√≠ficos, operativos e instrucciones t√©cnicas entre otros"}
      ]},
    "7": {
      "q": "¬øQui√©n eval√∫a el Sistema de Gesti√≥n de Seguridad en la Circulaci√≥n?",
      "a": "B",
      "opts": [
        {"l": "A", "t": "La Direcci√≥n de Seguridad del Administrador de Infraestructura"},
        {"l": "B", "t": "La Agencia Estatal de Seguridad Ferroviaria"},
        {"l": "C", "t": "La Agencia Internacional de Seguridad Ferroviaria"},
        {"l": "D", "t": "La ERA"}
      ]},
    "8": {
      "q": "¬øQui√©n tiene la responsabilidad del otorgamiento de las \"Licencias\" a las empresas ferroviarias?",
      "a": "A",
      "opts": [
        {"l": "A", "t": "El Ministerio de Fomento"},
        {"l": "B", "t": "El Administrador de Infraestructura por la que solicite circular"},
        {"l": "C", "t": "La propia Empresa Ferroviaria a expensas del Ministerio de Fomento"},
        {"l": "D", "t": "La Direcci√≥n de Seguridad del AI afectado"}
      ]},
    "9": {
      "q": "¬øQu√© se entiende por Zona de Seguridad de los trabajos?",
      "a": "A",
      "opts": [
        {"l": "A", "t": "Espacios situados a m√°s de 3 metros de distancia del borde exterior de la cabeza del carril por ambos lados de la v√≠a"},
        {"l": "B", "t": "Espacios situados a m√°s de 2 metros de distancia del borde exterior de la cabeza del carril por ambos lados de la v√≠a"},
        {"l": "C", "t": "Espacios situados en la zona en la que no hay ning√∫n riesgo para las circulaciones en ambos lados de la v√≠a"},
        {"l": "D", "t": "Espacios situados entre 2 y 3 metros de distancia del borde exterior de la cabeza del carril por ambos lados de la v√≠a"}
      ]},
    "10": {
      "q": "En general, el bloqueo de un tramo de v√≠a entre dos estaciones colaterales abiertas, requiere establecer una relaci√≥n de dependencia entre ambas, que permite expedir circulaciones de una a otra en condiciones seguras, ¬øc√≥mo ser√° esta relaci√≥n para el caso de v√≠as con circulaci√≥n en los dos sentidos?",
      "a": "A",
      "opts": [
        {"l": "A", "t": "La relaci√≥n de dependencia ser√° total"},
        {"l": "B", "t": "La relaci√≥n de dependencia no existe en este caso"},
        {"l": "C", "t": "La relaci√≥n de dependencia descansa en las comunicaciones verbales entre los Responsables de Circulaci√≥n"},
        {"l": "D", "t": "La relaci√≥n de dependencia ser√° semitotal"}
      ]},
    "11": {
      "q": "¬°Qu√© sistema de bloqueo deberemos aplicar en el caso de anormalidad en l√≠neas equipadas con BA o BLA?",
      "a": "B",
      "opts": [
        {"l": "A", "t": "BTV"},
        {"l": "B", "t": "BT"},
        {"l": "C", "t": "EVB"},
        {"l": "D", "t": "BCA"}
      ]},
    "12": {
      "q": "Las siglas CMS hacen referencia a:",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Cuadro de Mando y Se√±alizaci√≥n"},
        {"l": "B", "t": "Control de medios y Seguridad"},
        {"l": "C", "t": "Control-Mando y Se√±alizaci√≥n"},
        {"l": "D", "t": "Control, Mando y Seguridad"}
      ]},
    "13": {
      "q": "Una se√±al que da indicaci√≥n de \"parada\" y en el m√°stil tiene un cartel con la letra \"P\" ordena:",
      "a": "B",
      "opts": [
        {"l": "A", "t": "Circular predispuesto a parar ante ella, y si nada se opone, el maquinista avanzar√° con marcha a la vista, sin exceder la velocidad de 40 km., hasta llegar a la se√±al siguiente cualquiera que sea su indicaci√≥n"},
        {"l": "B", "t": "Parar ante la se√±al sin rebasarla, despu√©s de la parada, y si nada se opone, el maquinista avanzar√° con marcha a la vista, sin exceder la velocidad de 40 km., hasta llegar a la se√±al siguiente cualquiera que sea su indicaci√≥n"},
        {"l": "C", "t": "Parar ante la se√±al sin rebasarla, solicitando el rebase, y si nada se opone, el maquinista avanzar√° con marcha a la vista, sin exceder la velocidad de 40 km., hasta llegar a la se√±al siguiente cualquiera que sea su indicaci√≥n"},
        {"l": "D", "t": "Parar ante la se√±al sin rebasarla, despu√©s de la parada, y si nada se opone, el maquinista avanzar√° con marcha a la vista, sin exceder la velocidad de 30 km., hasta llegar a la se√±al siguiente cualquiera que sea su indicaci√≥n"}
      ]},
    "14": {
      "q": "Para evitar que durante el servicio pueda estar afectada su capacidad de concentraci√≥n, atenci√≥n, incluso su conducta o facultades por efecto de los medicamentos, ¬øqu√© obligaci√≥n marca la NAR 1/16, Obligaciones del personal de servicio, al personal?",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Leer los prospectos de los medicamentos que nos hayan recetado nuestro facultativo con el fin de valorar la compatibilidad"},
        {"l": "B", "t": "Poner en conocimiento de nuestro mando inmediato los contenidos de los prospectos de los medicamentos recetados para que valore la conveniencia de prestar servicio."},
        {"l": "C", "t": "Poner en conocimiento de nuestro facultativo las exigencias del puesto cuando vayan a prescribirnos un tratamiento m√©dico, para que valore su compatibilidad"},
        {"l": "D", "t": "Este documento no valora obligaci√≥n alguna"}
      ]},
    "15": {
      "q": "Las se√±ales que regulan la circulaci√≥n de trenes y maniobras son‚Ä¶.",
      "a": "D",
      "opts": [
        {"l": "A", "t": "Se√±ales fijas de los trenes"},
        {"l": "B", "t": "Se√±ales fijas permanentes"},
        {"l": "C", "t": "Se√±ales fijas indicadoras"},
        {"l": "D", "t": "Se√±ales fijas fundamentales"}
      ]},
    "16": {
      "q": "¬øQu√© aspecto luce en una se√±al que da la indicaci√≥n de \"REBASE AUTORIZADO\"",
      "a": "B",
      "opts": [
        {"l": "A", "t": "Rojo a destellos y blanco fijo"},
        {"l": "B", "t": "Rojo fijo y blanco fijo o a destellos"},
        {"l": "C", "t": "Rojo fijo y azul fijo"},
        {"l": "D", "t": "Rojo fijo y blanco a destellos"}
      ]},
    "17": {
      "q": "¬øC√≥mo se actuara cuando sea necesario actuar con urgencia un caso no contemplado en las normas de circulaci√≥n y relacionado con la seguridad?",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Se actuara adoptando la actuaci√≥n a la normativa reglamentaria en vigor"},
        {"l": "B", "t": "Los mandos intermedios, valorar√°n con car√°cter provisional dar instrucciones directamente al personal afectado"},
        {"l": "C", "t": "El PM dar√°, con car√°cter provisional, las instrucciones pertinentes mediante comunicaci√≥n grabada o telefonema"},
        {"l": "D", "t": "El PM dar√° las instrucciones pertinentes verbalmente, posteriormente lo comunicar√° por escrito."}
      ]},
    "18": {
      "q": "La se√±alizaci√≥n por cabeza de los trenes est√° compuesta por‚Ä¶",
      "a": "A",
      "opts": [
        {"l": "A", "t": "Alumbrado de gran intensidad y por las luces de posici√≥n"},
        {"l": "B", "t": "Foco de gran luminosidad y luces secundarias"},
        {"l": "C", "t": "Alumbrado principal y luces secundarias"},
        {"l": "D", "t": "Foco de alta potencia principal y luces secundarias"}
      ]},
    "19": {
      "q": "En el sistema de trabajo de Intervalo de liberaci√≥n por tiempo, cuando en un mismo trayecto se realicen diversos trabajos de naturaleza diferente, ¬ødispondr√°n de un encargado de Trabajo o Piloto de Seguridad Habilitado?",
      "a": "B",
      "opts": [
        {"l": "A", "t": "Para este tipo de trabajos deber√°n disponer necesariamente de un Encargado de Trabajos"},
        {"l": "B", "t": "Dispondr√°n de un encargado de Trabajo o Piloto de seguridad habilitado para concertar trabajos en cada uno"},
        {"l": "C", "t": "Para este tipo de trabajos, solo puede disponerse necesariamente de un Encargado de Trabajos para concertar trabajos en cada uno"},
        {"l": "D", "t": "Dispondr√°n de un Encargado de Trabajos o piloto de seguridad habilitado para concertar trabajos que tendr√° a su cargo la coordinaci√≥n de todos los trabajos"}
      ]},
    "20": {
      "q": "En v√≠as dotadas de se√±ales de salida, ¬ød√≥nde se encuentra el l√≠mite de compatibilidad operativa de circulaci√≥n simultanea por ambas v√≠as?",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Siempre el piquete de salida de dichas v√≠as"},
        {"l": "B", "t": "Si existe piquete ser√° este"},
        {"l": "C", "t": "Lo marcan dichas se√±ales"},
        {"l": "D", "t": "El cartel√≥n de \'Limite\'"}
      ]},
    "21": {
      "q": "Un sector de v√≠as, agujas y se√±ales de una estaci√≥n es un‚Ä¶.",
      "a": "A",
      "opts": [
        {"l": "A", "t": "Puesto de circulaci√≥n"},
        {"l": "B", "t": "Puesto de operaci√≥n"},
        {"l": "C", "t": "Puesto de banalizaci√≥n"},
        {"l": "D", "t": "Puesto de cantonamiento"}
      ]},
    "22": {
      "q": "Una se√±al fija fundamental con indicaci√≥n de verde a destellos indica‚Ä¶.",
      "a": "B",
      "opts": [
        {"l": "A", "t": "V√≠a libre adicional"},
        {"l": "B", "t": "V√≠a libre condicional"},
        {"l": "C", "t": "V√≠a libre"},
        {"l": "D", "t": "V√≠a libre condicionada"}
      ]},
    "23": {
      "q": "¬øCu√°les son los sistemas de ejecuci√≥n de trabajos en la v√≠a?",
      "a": "A",
      "opts": [
        {"l": "A", "t": "Interrupci√≥n de circulaci√≥n y de liberaci√≥n por tiempo"},
        {"l": "B", "t": "Interrupci√≥n de circulaci√≥n y de liberaci√≥n autom√°tica"},
        {"l": "C", "t": "Interrupci√≥n del tr√°fico y de liberaci√≥n por tiempo"},
        {"l": "D", "t": "Interrupci√≥n del tr√°fico y de liberaci√≥n autom√°tica"}
      ]},
    "24": {
      "q": "¬øCu√°l de los siguientes √∫tiles no corresponden al tajo de trabajos?",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Banderines rojos"},
        {"l": "B", "t": "Cuando correspondan cartelones de \"Silbar obreros\""},
        {"l": "C", "t": "Calces antiderivas cuando los trabajos se realicen en el interior de las estaciones"},
        {"l": "D", "t": "Linternas dotadas de luces rojas y blancas"}
      ]},
    "25": {
      "q": "¬øC√≥mo se denomina a la actividad sujeta un Instrucci√≥n Espec√≠fica de Trabajo realizada exclusivamente con herramientas manuales, que invadan o puedan invadir la zona de peligro o la zona de riesgo para que no afecten al funcionamiento normal de la v√≠a, electrificaci√≥n e instalaciones de seguridad y que no interrumpan la circulaci√≥n de los trenes?",
      "a": "B",
      "opts": [
        {"l": "A", "t": "Trabajos compatibles con la circulaci√≥n de trenes"},
        {"l": "B", "t": "Actividades de regulaci√≥n espec√≠fica"},
        {"l": "C", "t": "Trabajos de regulaci√≥n excepcional"},
        {"l": "D", "t": "Actividades de seguridad en la circulaci√≥n"}
      ]},
    "26": {
      "q": "¬øQu√© se debe hacer con una baliza asociada a una se√±al que est√° fuera de servicio?",
      "a": "A",
      "opts": [
        {"l": "A", "t": "Retirarla de la v√≠a o fijar una chapa cubrebalizas impidan la transmisi√≥n"},
        {"l": "B", "t": "Retirar la alimentaci√≥n y fijar una chapa cubre cubrebalizas que impida la transmisi√≥n"},
        {"l": "C", "t": "Anular o fijar una chapa cubre balizas que impida la transmisi√≥n"},
        {"l": "D", "t": "Retirarla de la v√≠a de modo que no interfiera la transmisi√≥n"}
      ]},
    "27": {
      "q": "Cuando las normas prescriban la utilizaci√≥n de un impreso, las reglas, procedimientos o instrucciones que se den para su confecci√≥n ¬øse considerar√°n?...",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Recomendaciones"},
        {"l": "B", "t": "Ejemplos con pautas de actuaci√≥n"},
        {"l": "C", "t": "Normas de circulaci√≥n"},
        {"l": "D", "t": "Ejemplos orientativos"}
      ]},
    "28": {
      "q": "Cuando una se√±al de la indicaci√≥n de \"PARADA SELECTIVA\" est√° luciendo‚Ä¶",
      "a": "D",
      "opts": [
        {"l": "A", "t": "En rojo fijo y Blanco a destellos"},
        {"l": "B", "t": "Rojo fijo y blanco fijo"},
        {"l": "C", "t": "Rojo a destellos y blanco fijo"},
        {"l": "D", "t": "Rojo fijo y azul fijo a destellos"}
      ]},
    "29": {
      "q": "¬øEn qu√© libro de Registro deber√° inscribir el encargado de los trabajos la implantaci√≥n de limitaciones temporales de velocidad?",
      "a": "D",
      "opts": [
        {"l": "A", "t": "Libro general de anotaciones"},
        {"l": "B", "t": "En un papel en blanco como referencia de su transmisi√≥n"},
        {"l": "C", "t": "Libro de bloqueo de infraestructura"},
        {"l": "D", "t": "Libro general de telefonemas"}
      ]},
    "30": {
      "q": "¬øQu√© respuesta se ajusta a la realidad sobre la obligatoriedad de la aplicaci√≥n de las normas contempladas en el RCF?",
      "a": "B",
      "opts": [
        {"l": "A", "t": "Todo el personal de la EF, de los AI"},
        {"l": "B", "t": "Todo el personal de las EF de los AI y de otras empresas, que intervienen, directa o indirectamente, en los procesos de circulaci√≥n de trenes y maniobras"},
        {"l": "C", "t": "Todo el personal de AI y de otras empresas constructoras que intervienen, directamente, en los procesos de circulaci√≥n de trenes y maniobras"},
        {"l": "D", "t": "Todo el personal de las de los AI de otras empresas"}
      ]},
    "31": {
      "q": "Los cortes de material separados de la locomotora con suficiente freno quedan inmovilizados mediante el freno autom√°tico, ¬ødurante cu√°nto tiempo?",
      "a": "D",
      "opts": [
        {"l": "A", "t": "Un m√°ximo de 180 minutos"},
        {"l": "B", "t": "Siempre que se separe de la locomotora un corte de material, este se inmovilizar√° mediante el apriete del freno de estacionamiento"},
        {"l": "C", "t": "Un m√°ximo de 90 minutos"},
        {"l": "D", "t": "Un m√°ximo de 120 minutos"}
      ]},
    "32": {
      "q": "¬øC√≥mo se realiza la identificaci√≥n de peligro de las mercanc√≠as peligrosas?",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Mediante tres cifras y a veces precedido de la letra indicadora de la materia"},
        {"l": "B", "t": "Mediante dos cifras y a veces precedido de la letra indicadora del peligro"},
        {"l": "C", "t": "Mediante dos o tres cifras y a veces precedido de la letra X"},
        {"l": "D", "t": "Mediante cuatro cifras y si es necesario mediante la letra X"}
      ]},
    "33": {
      "q": "¬øCu√°l de las siguientes causas no se encuentra relacionada normalmente con los errores producidos seg√∫n la naturaleza del Factor Humano?",
      "a": "B",
      "opts": [
        {"l": "A", "t": "Distracciones"},
        {"l": "B", "t": "Condiciones y climatolog√≠a"},
        {"l": "C", "t": "Errores en la comunicaci√≥n"},
        {"l": "D", "t": "D√©ficit de atenci√≥n"}
      ]},
    "34": {
      "q": "Norma Adif V√≠a 7.0.1.0 afecta a‚Ä¶",
      "a": "A",
      "opts": [
        {"l": "A", "t": "L√≠neas de ancho convencional (ancho ib√©rico)"},
        {"l": "B", "t": "L√≠neas de ancho m√©trico"},
        {"l": "C", "t": "Todos los anchos de la RFIG"},
        {"l": "D", "t": "L√≠neas de ancho internacional (ancho UIC)"}
      ]},
    "35": {
      "q": "Espacio alrededor de los elementos en tensi√≥n en que la presencia de un trabajador desprotegido supone un riesgo grave e inminente se denomina",
      "a": "B",
      "opts": [
        {"l": "A", "t": "Zona de peligro o zona de trabajos sin tensi√≥n"},
        {"l": "B", "t": "Zona de peligro o zona de trabajos en tensi√≥n"},
        {"l": "C", "t": "Zona de peligro o zona de proximidad"},
        {"l": "D", "t": "Zona de riesgo o zona de trabajos en tensi√≥n"}
      ]},
    "36": {
      "q": "En l√≠neas de v√≠a doble o m√∫ltiple cuando la separaci√≥n entre ambas sea inferior a 4 metros se aplicar√° las prestaciones correspondientes a la zona de‚Ä¶",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Seguridad"},
        {"l": "B", "t": "Trabajos"},
        {"l": "C", "t": "Peligro"},
        {"l": "D", "t": "Riesgo"}
      ]},
    "37": {
      "q": "En las zonas la zona comprendida entre la zona de peligro para los trabajos y la zona de seguridad para los trabajos se denomina‚Ä¶",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Zona de seguridad"},
        {"l": "B", "t": "Zona de trabajos"},
        {"l": "C", "t": "Zona de riesgo"},
        {"l": "D", "t": "Zona de peligro"}
      ]},
    "38": {
      "q": "¬øC√≥mo se denomina una junta especial que permite recorridos importantes de los extremos de las barras largas (carriles) que concurren en ella absorbiendo los efectos de las variaciones de temperatura?",
      "a": "D",
      "opts": [
        {"l": "A", "t": "Aparato de alineaci√≥n"},
        {"l": "B", "t": "Aparato de compensaci√≥n"},
        {"l": "C", "t": "Aparato de nivelaci√≥n"},
        {"l": "D", "t": "Aparato de dilataci√≥n"}
      ]},
    "39": {
      "q": "Normalmente, ¬øa qu√© distancia del paso a nivel se instalan los cartelones de silbar en l√≠nea en la l√≠nea ferroviaria cuando hay un paso a nivel de clase A",
      "a": "C",
      "opts": [
        {"l": "A", "t": "300 metros"},
        {"l": "B", "t": "600 metros"},
        {"l": "C", "t": "500 metros"},
        {"l": "D", "t": "400 metros"}
      ]},
    "40": {
      "q": "¬øCu√°l es el ancho de v√≠a convencional o ib√©rico?",
      "a": "D",
      "opts": [
        {"l": "A", "t": "1.665"},
        {"l": "B", "t": "1.666"},
        {"l": "C", "t": "1.659"},
        {"l": "D", "t": "1.668"}
      ]},
    "41": {
      "q": "¬øEl aparato que permite el paso del material rodante por dos v√≠as que parten de una com√∫n se denomina?",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Traves√≠a"},
        {"l": "B", "t": "Aguja"},
        {"l": "C", "t": "Desv√≠o"},
        {"l": "D", "t": "Cambio"}
      ]},
    "42": {
      "q": "¬øPara qu√© tipo de carril exacta la traviesa de hormig√≥n bibloque tipo RS?",
      "a": "C",
      "opts": [
        {"l": "A", "t": "UIC-45 y UIC-54"},
        {"l": "B", "t": "UIC-45 y UIC-60"},
        {"l": "C", "t": "UIC-54 y UIC-60"},
        {"l": "D", "t": "UIC-45, UIC-54 y UIC-60"}
      ]},
    "43": {
      "q": "¬øCu√°l es la velocidad m√°xima de paso por un desv√≠o tipo B",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Por v√≠a directa 140 km/h y hasta 50 km/h por desviada"},
        {"l": "B", "t": "Por v√≠a directa 140 km/h y hasta 30 km/h por desviada"},
        {"l": "C", "t": "Por v√≠a directa 160 km/h y hasta 60 km/h por desviada"},
        {"l": "D", "t": "Por v√≠a directa 160 km/h y hasta 50 km/h por desviada"}
      ]},
    "44": {
      "q": "Los aparatos de v√≠a pertenecen a‚Ä¶",
      "a": "D",
      "opts": [
        {"l": "A", "t": "La infraestructura"},
        {"l": "B", "t": "La plataforma"},
        {"l": "C", "t": "La basamenta"},
        {"l": "D", "t": "La superestructura"}
      ]},
    "45": {
      "q": "Sistema de interrupci√≥n de la circulaci√≥n con Entrega de V√≠a Bloqueada. Es el sistema utilizado para realizar trabajos‚Ä¶",
      "a": "B",
      "opts": [
        {"l": "A", "t": "En la \"zona de g√°libo de los trenes\" con herramientas maquinaria o trenes de trabajos que por su naturaleza no pueden retirarse de la misma en tiempo oportuno por la persona que los maneja"},
        {"l": "B", "t": "En la \"zona de peligro para los trabajos\" o en la \"zona de peligro el√©ctrico\" con herramientas, maquinaria o tienes de trabajo que por su naturaleza no pueden retirarse de la misma en tiempo oportuno por la persona que las maneja"},
        {"l": "C", "t": "En la \"zona de peligro para los trabajos\" o en la \"zona de riesgo para los trabajos\" con trenes de trabajos que obliguen a interrumpir la circulaci√≥n"},
        {"l": "D", "t": "En la \"zona de peligro para los trabajos\" o en la \"zona de peligro el√©ctrico\" exclusivamente con herramientas o maquinaria que por su naturaleza no pueden retirarse de la misma en tiempo oportuno por la persona que los maneja"}
      ]},
    "46": {
      "q": "¬øCada cu√°ntos a√±os la petici√≥n de qui√©n se renovar√° el SGS",
      "a": "A",
      "opts": [
        {"l": "A", "t": "Se renovar√° previa solicitud del AI a m√°s tardar cada 5 a√±os"},
        {"l": "B", "t": "Se renovar√° previa solicitud de la AESF a m√°s tardar cada 10 a√±os"},
        {"l": "C", "t": "Se renovar√° previa solicitud del AI a m√°s tardar cada 10 a√±os"},
        {"l": "D", "t": "Se renovar√° previa solicitud de la AESF a m√°s tardar cada 5 a√±os"}
      ]},
    "47": {
      "q": "Los encargados de trabajo deben utilizar como dotaci√≥n principal, los siguientes equipos de protecci√≥n individual",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Gorra de protecci√≥n contra el sol y botas de seguridad"},
        {"l": "B", "t": "Gafas de protecci√≥n y ropa amarilla de alta visibilidad"},
        {"l": "C", "t": "Ropa amarilla de alta visibilidad y botas de seguridad"},
        {"l": "D", "t": "Traje de agua amarillo de alta visibilidad y gorra"}
      ]},
    "48": {
      "q": "Respecto de las se√±ales ac√∫sticas de los trenes, ¬øen qu√© casos se da la orden o indicaci√≥n de \"ATENCI√ìN\"?",
      "a": "B",
      "opts": [
        {"l": "A", "t": "Cuando el tren sea directo y no vea la se√±al de paso desde la aguja de entrada"},
        {"l": "B", "t": "Al aproximarse a un cartel√≥n que ordene silbar"},
        {"l": "C", "t": "Cuando solicite presentaci√≥n de la se√±al de marche el tren"},
        {"l": "D", "t": "En maniobras por radio cuando falle la comunicaci√≥n"}
      ]},
    "49": {
      "q": "¬øQu√© es el S.A.A.T.?",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Sistema de ayuda a la aproximaci√≥n de trenes"},
        {"l": "B", "t": "Sistema de anuncio de aviso de trenes"},
        {"l": "C", "t": "Sistema de aviso por aproximaci√≥n de trenes"},
        {"l": "D", "t": "Sistema de ayuda para aviso de trenes"}
      ]},
    "50": {
      "q": "¬øCu√°l de los siguientes movimientos no es una maniobra?",
      "a": "D",
      "opts": [
        {"l": "A", "t": "Formar o descomponer un tren"},
        {"l": "B", "t": "Agregar o segregar veh√≠culos de un tren"},
        {"l": "C", "t": "Clasificar los veh√≠culos o cortes de material"},
        {"l": "D", "t": "Asegurar la uni√≥n de la composici√≥n"}
      ]},
    "51": {
      "q": "Los trenes el trabajo al amparo de una EVB en una l√≠nea de BEM, ¬øpueden apartarse en cualquiera de las estaciones del trayecto en el que se aplica?",
      "a": "D",
      "opts": [
        {"l": "A", "t": "S√≠, siempre que sea en v√≠a desviada"},
        {"l": "B", "t": "Solo en la estaci√≥n que lo expidi√≥"},
        {"l": "C", "t": "Si"},
        {"l": "D", "t": "No"}
      ]},
    "52": {
      "q": "¬øA qui√©n corresponde la programaci√≥n, as√≠ como la modificaci√≥n en su caso, de todos los trabajos compatibles con la circulaci√≥n y de las Actividades de regulaci√≥n espec√≠fica",
      "a": "A",
      "opts": [
        {"l": "A", "t": "A las √Åreas t√©cnicas afectadas por los trabajos"},
        {"l": "B", "t": "Al PM en su grupo de gesti√≥n"},
        {"l": "C", "t": "A los servicios de infraestructura deb√≠a"},
        {"l": "D", "t": "A los Encargados de Trabajo afectados"}
      ]},
    "53": {
      "q": "La se√±al de la figura indica que‚Ä¶ Color blanco a destellos",
      "a": "A",
      "opts": [
        {"l": "A", "t": "El paso a nivel est√° protegido y ordena circular normalmente e informar inmediatamente del estado de la se√±al"},
        {"l": "B", "t": "El paso a nivel est√° protegido y ordena circular con marcha de maniobras e informar inmediatamente del estado de la se√±al"},
        {"l": "C", "t": "El paso a nivel est√° desprotegido ordena circular con precauci√≥n e informar inmediatamente del estado de la se√±al"},
        {"l": "D", "t": "El paso a nivel est√° desprotegido y ordena circular con marcha a la vista e informar inmediatamente del estado de la se√±al"}
      ]},
    "54": {
      "q": "Marque la respuesta que no corresponde a un elemento de la superestructura ferroviaria",
      "a": "C",
      "opts": [
        {"l": "A", "t": "balasto"},
        {"l": "B", "t": "carriles"},
        {"l": "C", "t": "viaducto"},
        {"l": "D", "t": "aparatos de V√≠a"}
      ]},
    "55": {
      "q": "¬øQu√© s√≠ntomas neurosensoriales se producen tras un \"golpe de calor\"",
      "a": "C",
      "opts": [
        {"l": "A", "t": "Ausencia de sudoraci√≥n, confusi√≥n, p√©rdida de conciencia y cefalea"},
        {"l": "B", "t": "Convulsiones, p√©rdida de conciencia, papilas dilatadas y cefalea"},
        {"l": "C", "t": "Confusi√≥n, convulsiones, p√©rdida de conciencia y papilas dilatadas"},
        {"l": "D", "t": "Respiraci√≥n r√°pida, convulsiones p√©rdida de conciencia y cefalea"}
      ]},
    "56": {
      "q": "¬øCu√°les de los siguientes no son elementos principales de la cultura de seguridad?",
      "a": "D",
      "opts": [
        {"l": "A", "t": "Situaciones"},
        {"l": "B", "t": "Psicol√≥gicos"},
        {"l": "C", "t": "Conductuales"},
        {"l": "D", "t": "Estructurales"}
      ]},
    "57": {
      "q": "Sobre el SGS cuando decimos \"desarrollados mayoritariamente desde la DSC de Adif y son de aplicaci√≥n a todas las √°reas operativas con incidencia en la Seguridad en la Circulaci√≥n\", estamos haciendo referencia a‚Ä¶",
      "a": "B",
      "opts": [
        {"l": "A", "t": "Procedimientos espec√≠ficos"},
        {"l": "B", "t": "Procedimientos generales"},
        {"l": "C", "t": "Procedimientos gen√©ricos"},
        {"l": "D", "t": "Instrucciones t√©cnicas"}
      ]},
    "58": {
      "q": "Indique el significado de los par√©ntesis en la redacci√≥n de un telefonema",
      "a": "D",
      "opts": [
        {"l": "A", "t": "Indican obligaci√≥n se debe incluir en el telefonema"},
        {"l": "B", "t": "Indican opciones a elegir o eliminar entre las figuradas"},
        {"l": "C", "t": "Indican opci√≥n, se puede incluir uno en el telefonema"},
        {"l": "D", "t": "Indican opciones a elegir entre los figuradas o da indicaciones sobre su contenido"}
      ]},
    "59": {
      "q": "Dentro de los requisitos m√≠nimos para la realizaci√≥n de Actividades de Regulaci√≥n Espec√≠fica, en caso de existir m√°s de una zona de actividad en un determinado trayecto, ¬øc√≥mo deber√° ser controlado y vigilado cada Tajo de trabajo?",
      "a": "A",
      "opts": [
        {"l": "A", "t": "Cada zona por al menos un Piloto de Seguridad"},
        {"l": "B", "t": "Cada zona por al menos un Encargado de Trabajos y un Piloto de Seguridad"},
        {"l": "C", "t": "Por las normas establecidas por el Encargado de los Trabajos en el momento de iniciarse los trabajos"},
        {"l": "D", "t": "No puede haber m√°s de una zona de actividad por trayecto"}
      ]},
    "60": {
      "q": "¬øCu√°l de las siguientes no es una se√±al fija fundamental?",
      "a": "A",
      "opts": [
        {"l": "A", "t": "Se√±al de los trenes"},
        {"l": "B", "t": "Se√±al de maniobra"},
        {"l": "C", "t": "Se√±al interior"},
        {"l": "D", "t": "Se√±al de entrada"}
      ]},
    "61": {
      "q": "¬øQu√© clase de protecci√≥n tiene un Paso a Nivel protegido por barreras o semibarreras con guarder√≠a a pie de paso?",
      "a": "B",
      "opts": [
        {"l": "A", "t": "Clase D"},
        {"l": "B", "t": "Clase E"},
        {"l": "C", "t": "Clase B"},
        {"l": "D", "t": "Clase A"}
      ]}
};


  let respuestasVisibles = false;
let totalPreguntas = Object.keys(testData).length;

// Generate all questions on page load
function generarTest() {
  const container = document.getElementById('questionsContainer');
  
  Object.keys(testData).forEach(qid => {
    const q = testData[qid];
    const card = document.createElement('div');
    card.className = 'card question';
    card.dataset.qid = qid;
    
    let opcionesHTML = '';
    q.opts.forEach(opt => {
      opcionesHTML += `
        <label class="option">
          <input type="radio" name="q${qid}" value="${opt.l}" onchange="updateProgress()" />
          <div><b>${opt.l})</b> ${opt.t}</div>
        </label>
      `;
    });

    card.innerHTML = `
      <span class="q-number">Pregunta ${qid} de ${totalPreguntas}</span>
      <div class="q-title">${q.q}</div>
      <div class="options">${opcionesHTML}</div>
      <div class="answer-key">‚úì Respuesta correcta: <b>${q.a}</b></div>
      <div class="feedback"></div>
    `;
    
    container.appendChild(card);
  });
}

// Update progress bar
function updateProgress() {
  const respondidas = document.querySelectorAll('input[type=radio]:checked').length;
  const porcentaje = (respondidas / totalPreguntas) * 100;
  document.getElementById('progressBar').style.width = porcentaje + '%';
}

// Grade the test
function calificar() {
  let correctas = 0;
  let incorrectas = 0;
  let sinResponder = 0;
  
  document.querySelectorAll('.question').forEach(card => {
    const qid = card.dataset.qid;
    const correcta = testData[qid].a;
    const seleccionada = card.querySelector('input[type=radio]:checked');
    
    card.querySelectorAll('.option').forEach(o => o.classList.remove('correct','incorrect'));
    
    if (seleccionada) {
      const letra = seleccionada.value;
      if (letra === correcta) {
        correctas++;
        seleccionada.closest('.option').classList.add('correct');
        card.querySelector('.feedback').textContent = '‚úî ¬°Correcto!';
        card.querySelector('.feedback').style.color = 'var(--ok)';
      } else {
        incorrectas++;
        seleccionada.closest('.option').classList.add('incorrect');
        card.querySelector('.feedback').innerHTML = `‚úñ Incorrecto ¬∑ La correcta es: <b>${correcta}</b>`;
        card.querySelector('.feedback').style.color = 'var(--bad)';
        const corr = card.querySelector(`input[value="${correcta}"]`);
        if (corr) corr.closest('.option').classList.add('correct');
      }
    } else {
      sinResponder++;
      card.querySelector('.feedback').textContent = '‚ö† Sin responder';
      card.querySelector('.feedback').style.color = 'var(--warning)';
    }
  });
  
  const porcentaje = Math.round((correctas / totalPreguntas) * 100);
  const aprobado = porcentaje >= 50;
  
  document.getElementById('score').textContent = `${correctas} / ${totalPreguntas} (${porcentaje}%)`;
  document.getElementById('score').style.color = aprobado ? 'var(--ok)' : 'var(--bad)';
  
  document.getElementById('scoreDetails').innerHTML = `
    ‚úî ${correctas} correctas ¬∑ ‚úñ ${incorrectas} incorrectas ¬∑ ‚ö† ${sinResponder} sin responder
  `;
  
  // Scroll to top to see results
 // window.scrollTo({top: 0, behavior: 'smooth'});
}

// Reset the test
function reiniciar() {
  document.querySelectorAll('input[type=radio]').forEach(r => r.checked = false);
  document.querySelectorAll('.option').forEach(o => o.classList.remove('correct','incorrect'));
  document.querySelectorAll('.feedback').forEach(f => {f.textContent=''; f.removeAttribute('style')});
  document.getElementById('score').textContent = '‚Äî';
  document.getElementById('score').removeAttribute('style');
  document.getElementById('scoreDetails').textContent = '';
  document.getElementById('progressBar').style.width = '0%';
  window.scrollTo({top: 0, behavior: 'smooth'});
}

// Toggle answer visibility
function toggleRespuestas(btn) {
  respuestasVisibles = !respuestasVisibles;
  document.body.classList.toggle('show-answers', respuestasVisibles);
  btn.textContent = respuestasVisibles ? 'üôà Ocultar respuestas' : 'üëÅÔ∏è Ver respuestas';
  
  if (respuestasVisibles) {
    document.querySelectorAll('.question').forEach(card => {
      const qid = card.dataset.qid;
      const correcta = testData[qid].a;
      card.querySelectorAll('.option').forEach(o => o.classList.remove('correct'));
      const corr = card.querySelector(`input[value="${correcta}"]`);
      if (corr) corr.closest('.option').classList.add('correct');
    });
  } else {
    document.querySelectorAll('.option').forEach(o => o.classList.remove('correct'));
  }
}

// Initialize test on page load
window.addEventListener('load', () => {
  generarTest();
});
// Scroll to top button functionality
const scrollTopBtn = document.getElementById('scrollTopBtn');

// Show/hide button based on scroll position
window.addEventListener('scroll', () => {
  if (window.pageYOffset > 300) {
    scrollTopBtn.classList.add('visible');
  } else {
    scrollTopBtn.classList.remove('visible');
  }
});

// Smooth scroll to top on click
scrollTopBtn.addEventListener('click', () => {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
});
</script>
</body>
</html>
