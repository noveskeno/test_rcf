<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>TESTS ET</title>
<style>
:root{
  --bg-dark:#0a0e14;
  --bg-card:#151a23;
  --bg-card-hover:#1a2030;
  --accent:#5bc0be;
  --accent-hover:#4aa9a7;
  --text:#e5e7eb;
  --text-dim:#9ca3af;
  --border:rgba(255,255,255,.08);
  --shadow:0 10px 40px rgba(0,0,0,.4);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  background:linear-gradient(135deg,var(--bg-dark) 0%,#0f1419 50%,#0a0e14 100%);
  color:var(--text);
  font-family:Segoe UI,system-ui,-apple-system,Arial,sans-serif;
  min-height:100vh;
  padding-bottom:60px;
  overflow-x:hidden;
}
#particles-bg{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
  z-index:0;
  opacity:.4;
}
#top{
  position:sticky;
  top:0;
  z-index:100;
  background:rgba(17,24,39,.95);
  backdrop-filter:blur(12px);
  padding:20px 12px;
  text-align:center;
  box-shadow:0 4px 20px rgba(0,0,0,.5);
  border-bottom:1px solid var(--border);
  animation:slideDown 0.4s ease-out;
}
@keyframes slideDown{
  from{transform:translateY(-100%);opacity:0}
  to{transform:translateY(0);opacity:1}
}
#top .title{
  background:linear-gradient(135deg,#1f2937,#374151);
  color:var(--text);
  border:2px solid rgba(91,192,190,.2);
  border-radius:999px;
  padding:14px 28px;
  font-weight:800;
  font-size:1.3rem;
  letter-spacing:1px;
  text-transform:uppercase;
  cursor:default;
  display:inline-flex;
  align-items:center;
  gap:12px;
  box-shadow:0 4px 12px rgba(0,0,0,.3);
  transition:all 0.3s ease;
}
#top .title:hover{
  transform:scale(1.02);
  box-shadow:0 6px 20px rgba(91,192,190,.3);
}

@keyframes subtlePulse {
  0%, 100% { box-shadow: 0 4px 12px rgba(0,0,0,.3); }
  50% { box-shadow: 0 4px 16px rgba(91,192,190,.15); }
}

#top .title {
  animation: subtlePulse 3s ease-in-out infinite;
}
.subtitle{
  margin-top:10px;
  font-size:14px;
  color:var(--text-dim);
  opacity:.8;
}
.container{
  max-width:760px;
  margin:0 auto;
  padding:24px 12px;
  position:relative;
  z-index:1;
}
.stats-bar{
  background:var(--bg-card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:16px;
  margin-bottom:24px;
  display:flex;
  justify-content:space-around;
  gap:12px;
  box-shadow:var(--shadow);
  animation:fadeIn 0.5s ease-out 0.2s both;
}
@keyframes fadeIn{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}
.stat{
  text-align:center;
  flex:1;
}
.stat-number{
  font-size:2rem;
  font-weight:800;
  background:linear-gradient(135deg,var(--accent),#4dd0ce);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}
.stat-label{
  font-size:12px;
  color:var(--text-dim);
  text-transform:uppercase;
  letter-spacing:1px;
  margin-top:4px;
}
.card{
  background:var(--bg-card);
  border:1px solid var(--border);
  border-radius:16px;
  margin:16px 0;
  overflow:hidden;
  box-shadow:var(--shadow);
  transition:all 0.3s ease;
  animation:fadeIn 0.5s ease-out both;
}
.card:nth-child(1){animation-delay:0.3s}
.card:nth-child(2){animation-delay:0.4s}
.card:nth-child(3){animation-delay:0.5s}
.card:nth-child(4){animation-delay:0.6s}
.card:hover{
  transform:translateY(-2px);
  box-shadow:0 12px 45px rgba(0,0,0,.5);
  border-color:rgba(91,192,190,.3);
}
.accordion-btn{
  width:100%;
  background:linear-gradient(135deg,#1f2937,#273244);
  color:var(--text);
  border:none;
  padding:18px 20px;
  font-size:1.1rem;
  font-weight:800;
  text-align:left;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:12px;
  transition:all 0.3s ease;
  position:relative;
  overflow:hidden;
}

/* Counter alignment */
.accordion-btn .counter {
  position: absolute;
  right: 40px;
  margin-left: 0 !important;
}
.accordion-btn::before{
  content:'';
  position:absolute;
  top:0;
  left:-100%;
  width:100%;
  height:100%;
  background:linear-gradient(90deg,transparent,rgba(91,192,190,.1),transparent);
  transition:left 0.5s ease;
}
.accordion-btn:hover::before{
  left:100%;
}
.accordion-btn:hover{
  background:linear-gradient(135deg,#273244,#2a3448);
  color:var(--accent);
}
.accordion-btn::after{
  content:'â–¼';
  margin-left:auto;
  font-size:14px;
  transition:transform 0.3s ease;
  opacity:.6;
}
.accordion-btn.active::after{
  transform:rotate(180deg);
}
.accordion-content{
  max-height:0;
  overflow:hidden;
  transition:max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1), padding 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  padding:0 12px;
}
.accordion-content.open{
  max-height:2000px;
  padding:12px;
}
.test-btn{
  display:flex;
  align-items:center;
  gap:10px;
  width:100%;
  margin:8px 0;
  padding:14px 16px;
  background:rgba(31,36,45,.6);
  color:var(--text);
  border:1px solid var(--border);
  border-radius:12px;
  font-weight:700;
  font-size:15px;
  cursor:pointer;
  text-align:left;
  transition:all 0.25s ease;
  position:relative;
  overflow:hidden;
}
.test-btn::before{
  content:'';
  position:absolute;
  top:0;
  left:-100%;
  width:100%;
  height:100%;
  background:linear-gradient(90deg,transparent,rgba(91,192,190,.15),transparent);
  transition:left 0.4s ease;
}
.test-btn:hover::before{
  left:100%;
}
.test-btn:hover{
  background:var(--bg-card-hover);
  border-color:rgba(91,192,190,.4);
  transform:translateX(8px);
  box-shadow:0 4px 16px rgba(0,0,0,.3);
}
.test-btn:active{
  transform:translateX(8px) scale(0.98);
}
.test-icon{
  font-size:20px;
  opacity:.8;
}

/* Badge de contador en botones de test */
.test-btn span:last-child {
  flex: 1;
}

/* Mejorar indicador visual de nivel de anidamiento */
.card.nested::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(180deg, var(--accent), transparent);
  opacity: 0.3;
}

.card.nested {
  position: relative;
}

/* Estilos para elementos anidados */
.card.nested {
  margin: 10px 0;
  margin-left: 20px;
  background: rgba(21, 26, 35, 0.7);
  border: 1px solid rgba(91, 192, 190, 0.1);
}

.card.nested:hover {
  transform: translateY(-2px);
  border-color: rgba(91, 192, 190, 0.25);
}

.card.nested .accordion-btn {
  font-size: 0.95em;
  padding: 14px 16px;
  background: linear-gradient(135deg, #1a2332, #1f2937);
}

.card.nested .accordion-btn:hover {
  background: linear-gradient(135deg, #1f2937, #243447);
}

.card.nested .accordion-content {
  padding-left: 10px;
  background: rgba(10, 14, 20, 0.3);
}

.footer{
  text-align:center;
  padding:40px 20px;
  color:var(--text-dim);
  font-size:13px;
  opacity:.6;
}
.footer-links{
  margin-top:12px;
  display:flex;
  justify-content:center;
  gap:20px;
  flex-wrap:wrap;
}
.footer-link{
  color:var(--accent);
  text-decoration:none;
  transition:opacity 0.2s;
}
.footer-link:hover{
  opacity:.7;
  text-decoration:underline;
}

/* Responsive para mÃ³vil */
@media (max-width: 768px){
  #top .title{
    font-size:1rem;
    padding:12px 20px;
  }
  .stats-bar{
    flex-direction:column;
  }
  .accordion-btn{
    font-size:1rem;
    padding:16px;
  }
  
  /* Reducir tamaÃ±o de contadores en tablets */
  .accordion-btn .counter {
    font-size: 0.7em !important;
  }
  
  .card.nested {
    margin-left: 10px;
  }
  
  .card.nested .accordion-btn {
    font-size: 0.9em;
    padding: 12px 14px;
  }
  
  .card.nested .accordion-content {
    padding-left: 5px;
  }
}

@media (max-width: 480px){
  #top .title{
    font-size:0.9rem;
    padding:10px 16px;
  }
  
  /* Reducir mÃ¡s el tamaÃ±o en mÃ³viles pequeÃ±os */
  .accordion-btn .counter {
    font-size: 0.65em !important;
  }
  
  .card.nested {
    margin-left: 5px;
  }
  
  .card.nested .accordion-btn {
    font-size: 0.85em;
    padding: 10px 12px;
  }
  
  .test-btn {
    font-size: 14px;
    padding: 12px 14px;
  }
  
  .test-icon {
    font-size: 18px;
  }
}

/* Background particles effect */
.particle{
  position:absolute;
  border-radius:50%;
  background:radial-gradient(circle,rgba(91,192,190,.3),transparent);
  animation:float 20s infinite;
}
@keyframes float{
  0%,100%{transform:translate(0,0) scale(1)}
  33%{transform:translate(30px,-30px) scale(1.1)}
  66%{transform:translate(-20px,20px) scale(0.9)}
}
</style>
</head>
<body>
<div id="particles-bg"></div>

<div id="top">
  <div class="title">
    <span>ğŸ“š</span>
    <span>TESTS ET</span>
  </div>
</div>

<div class="container">
  <!-- Stats bar -->
  <div class="stats-bar">
    <div class="stat">
      <div class="stat-number" id="total-tests">-</div>
      <div class="stat-label">Tests</div>
    </div>
    <div class="stat">
      <div class="stat-number" id="total-categories">-</div>
      <div class="stat-label">CategorÃ­as</div>
    </div>
  </div>

<!-- TOMO I -->
<div class="card">
  <button class="accordion-btn" onclick="toggle(this)">
    <span>ğŸ“–</span>
    <span>TOMO I</span>
    <span class="counter" style="margin-left: auto; font-size: 0.8em; opacity: 0.6; font-weight: 400;"></span>
  </button>
  <div class="accordion-content">
    
    <!-- RCF 1 inside TOMO I -->
    <div class="card nested">
      <button class="accordion-btn" onclick="toggle(this)">
        <span>ğŸ“˜</span>
        <span>LIBRO 1</span>
        <span class="counter" style="margin-left: auto; font-size: 0.75em; opacity: 0.5; font-weight: 400;"></span>
      </button>
      <div class="accordion-content">
        <button class="test-btn" onclick="openTest('rcf1_completo.html')">
          <span class="test-icon">ğŸ“‹</span>
          <span>LIBRO 1 - CEEF (257)</span>
        </button>
        <button class="test-btn" onclick="openTest('rcf1_test_01.html')">
          <span class="test-icon">ğŸ“‹</span>
          <span>RCF 1 â€“ TEST 1 (25)</span>
        </button>
        <button class="test-btn" onclick="openTest('rcf1_test_02.html')">
          <span class="test-icon">ğŸ“‹</span>
          <span>RCF 1 â€“ TEST 2</span>
        </button>
      </div>
    </div>

    <!-- RCF 2 inside TOMO I -->
    <div class="card nested">
      <button class="accordion-btn" onclick="toggle(this)">
        <span>ğŸ“•</span>
        <span>LIBRO 2</span>
        <span class="counter" style="margin-left: auto; font-size: 0.75em; opacity: 0.5; font-weight: 400;"></span>
      </button>
      <div class="accordion-content">
        <button class="test-btn" onclick="openTest('rcf2_completo.html')">
          <span class="test-icon">ğŸ“‹</span>
          <span>LIBRO 2 - CEEF (237)</span>
        </button>
      </div>
    </div>

    <!-- RCF 3 inside TOMO I -->
    <div class="card nested">
      <button class="accordion-btn" onclick="toggle(this)">
        <span>ğŸ“—</span>
        <span>LIBRO 3</span>
        <span class="counter" style="margin-left: auto; font-size: 0.75em; opacity: 0.5; font-weight: 400;"></span>
      </button>
      <div class="accordion-content">
        <button class="test-btn" onclick="openTest('rcf3_completo.html')">
          <span class="test-icon">ğŸ“‹</span>
          <span>LIBRO 3 - CEEF (167)</span>
        </button>
      </div>
    </div>

    <!-- RCF 4 inside TOMO I -->
    <div class="card nested">
      <button class="accordion-btn" onclick="toggle(this)">
        <span>ğŸ“™</span>
        <span>LIBRO 4</span>
        <span class="counter" style="margin-left: auto; font-size: 0.75em; opacity: 0.5; font-weight: 400;"></span>
      </button>
      <div class="accordion-content">
        <button class="test-btn" onclick="openTest('rcf4_completo.html')">
          <span class="test-icon">ğŸ“‹</span>
          <span>LIBRO 4 - CEEF (136)</span>
        </button>
      </div>
    </div>

    <!-- RCF 5 inside TOMO I -->
    <div class="card nested">
      <button class="accordion-btn" onclick="toggle(this)">
        <span>ğŸ“”</span>
        <span>LIBRO 5</span>
        <span class="counter" style="margin-left: auto; font-size: 0.75em; opacity: 0.5; font-weight: 400;"></span>
      </button>
      <div class="accordion-content">
        <button class="test-btn" onclick="openTest('rcf5_completo.html')">
          <span class="test-icon">ğŸ“‹</span>
          <span>LIBRO 5 - CEEF (94)</span>
        </button>
        <button class="test-btn" onclick="openTest('rcf5_test_01.html')">
          <span class="test-icon">ğŸ“‹</span>
          <span>RCF 5 â€“ 1 (23) NO COMPROBADAS</span>
        </button>
      </div>
    </div>

  </div>
</div>

<!-- Visual separator -->
<div style="height: 8px;"></div>

<!-- TOMO III -->
<div class="card">
  <button class="accordion-btn" onclick="toggle(this)">
    <span>ğŸ“š</span>
    <span>TOMO III</span>
    <span class="counter" style="margin-left: auto; font-size: 0.8em; opacity: 0.6; font-weight: 400;"></span>
  </button>
  <div class="accordion-content">
    <button class="test-btn" onclick="openTest('tomo3_conceptos_test_01.html')">
      <span class="test-icon">ğŸš‚</span>
      <span>A10 - CONCEPTOS FERROVIARIOS (25)</span>
    </button>
    <button class="test-btn" onclick="openTest('tomo3_conceptos_test_02.html')">
      <span class="test-icon">ğŸš‚</span>
      <span>A12 - CONCEPTOS FERROVIARIOS (25)</span>
    </button>
    <button class="test-btn" onclick="openTest('tomo3_legislacion_test_01.html')">
      <span class="test-icon">âš–ï¸</span>
      <span>LEGISLACIÃ“N - 1 (15)</span>
    </button>
    <button class="test-btn" onclick="openTest('tomo3_legislacion_test_02.html')">
      <span class="test-icon">âš–ï¸</span>
      <span>LEGISLACIÃ“N - 2 (23)</span>
    </button>
  </div>
</div>

<!-- Visual separator -->
<div style="height: 8px;"></div>

<!-- VARIOS -->
<div class="card">
  <button class="accordion-btn" onclick="toggle(this)">
    <span>ğŸ²</span>
    <span>RCF â€“ Varios</span>
    <span class="counter" style="margin-left: auto; font-size: 0.8em; opacity: 0.6; font-weight: 400;"></span>
  </button>
  <div class="accordion-content">
    <button class="test-btn" onclick="openTest('et_varios_test_01.html')">
      <span class="test-icon">ğŸ²</span>
      <span>VARIOS - 1 (50)</span>
    </button>
    <button class="test-btn" onclick="openTest('et_varios_test_02.html')">
      <span class="test-icon">ğŸ²</span>
      <span>VARIOS - 2 (60)</span>
    </button>
    <button class="test-btn" onclick="openTest('et_varios_test_03.html')">
      <span class="test-icon">ğŸ²</span>
      <span>VARIOS - 3 (50)</span>
    </button>
    <button class="test-btn" onclick="openTest('et_varios_test_04.html')">
      <span class="test-icon">ğŸ²</span>
      <span>VARIOS - 4 (61)</span>
    </button>
  </div>
</div>

<!-- Visual separator -->
<div style="height: 8px;"></div>

<!-- EXAMS -->
<div class="card">
  <button class="accordion-btn" onclick="toggle(this)">
    <span>ğŸ“</span>
    <span>EXÃMENES</span>
    <span class="counter" style="margin-left: auto; font-size: 0.8em; opacity: 0.6; font-weight: 400;"></span>
  </button>
  <div class="accordion-content">
    
    <button class="test-btn" onclick="openTest('et_examen_01.html')">
      <span class="test-icon">ğŸ“‹</span>
      <span>EXAMEN 1 (45)</span>
    </button>

    <button class="test-btn" onclick="openTest('et_examen_conceptos_01.html')">
      <span class="test-icon">ğŸš‚</span>
      <span>EXAMEN - CONCEPTOS FERROVIARIOS (42)</span>
    </button>

    <button class="test-btn" onclick="openTest('et_examen_bloqueos_01.html')">
      <span class="test-icon">ğŸ”’</span>
      <span>EXAMEN - BLOQUEOS (22)</span>
    </button>

    <button class="test-btn" onclick="openTest('et_examen_circulacion_01.html')">
      <span class="test-icon">ğŸš‚</span>
      <span>EXAMEN - CIRCULACIÃ“N (5)</span>
    </button>

    <button class="test-btn" onclick="openTest('et_examen_asfa_01.html')">
      <span class="test-icon">ğŸš‚</span>
      <span>EXAMEN - ASFA (53)</span>
    </button>

    <button class="test-btn" onclick="openTest('et_examen_enclavamientos_01.html')">
      <span class="test-icon">ğŸš‚</span>
      <span>EXAMEN - ENCLAVAMIENTOS (18)</span>
    </button>
    
    <!-- PILOTO DE SEGURIDAD (nested) -->
    <div class="card nested">
      <button class="accordion-btn" onclick="toggle(this)">
        <span>ğŸš¨</span>
        <span>PILOTO DE SEGURIDAD</span>
        <span class="counter" style="margin-left: auto; font-size: 0.75em; opacity: 0.6; font-weight: 400;"></span>
      </button>
      <div class="accordion-content">
        <button class="test-btn" onclick="openTest('et_examen_02.html')">
          <span class="test-icon">ğŸ“</span>
          <span>EXAMEN 01 (40)</span>
        </button>
        <button class="test-btn" onclick="openTest('et_examen_03.html')">
          <span class="test-icon">ğŸ“</span>
          <span>EXAMEN 02 (42)</span>
        </button>
        <button class="test-btn" onclick="openTest('et_examen_04.html')">
          <span class="test-icon">ğŸ“</span>
          <span>EXAMEN 03 (42)</span>
        </button>
        <button class="test-btn" onclick="openTest('et_examen_05.html')">
          <span class="test-icon">ğŸ“</span>
          <span>EXAMEN 04 (42)</span>
        </button>
        <button class="test-btn" onclick="openTest('et_examen_06.html')">
          <span class="test-icon">ğŸ“</span>
          <span>EXAMEN 05 (43)</span>
        </button>
        <button class="test-btn" onclick="openTest('et_examen_07.html')">
          <span class="test-icon">ğŸ“</span>
          <span>EXAMEN 06 (44)</span>
        </button>
        <button class="test-btn" onclick="openTest('et_examen_08.html')">
          <span class="test-icon">ğŸ“</span>
          <span>EXAMEN 08 (40)</span>
        </button>
      </div>
    </div>

  </div>
</div>

<div class="footer">
  <div>ğŸ§  Una idea brillante de <strong style="color:var(--accent)">Lucas VÃ¡zquez</strong></div>
  <div style="margin-top:8px;font-size:12px;opacity:.7">
    <strong style="color:var(--accent)">Andrea</strong> lo puso bonito :) (estÃ¡ en ello)
  </div>
</div>
</div>

<script>
// Enhanced accordion system with nested support
function toggle(btn) {
  event.stopPropagation(); // Prevent event from bubbling to parent
  
  const content = btn.nextElementSibling;
  const isOpen = content.classList.contains('open');
  
  // Get the closest parent container
  const parentCard = btn.closest('.card');
  const parentContent = parentCard.closest('.accordion-content');
  
  // Only close accordions at the same level (siblings)
  if (parentContent) {
    // If inside an accordion, only close siblings
    const siblings = parentContent.querySelectorAll(':scope > .card');
    siblings.forEach(sibling => {
      if (sibling !== parentCard) {
        const siblingContent = sibling.querySelector('.accordion-content');
        const siblingBtn = sibling.querySelector('.accordion-btn');
        if (siblingContent) siblingContent.classList.remove('open');
        if (siblingBtn) siblingBtn.classList.remove('active');
      }
    });
  } else {
    // If top level, close other top level items
    const container = btn.closest('.container');
    const topLevelCards = Array.from(container.children).filter(child => 
      child.classList.contains('card') && !child.classList.contains('nested')
    );
    topLevelCards.forEach(card => {
      if (card !== parentCard) {
        const cardContent = card.querySelector('.accordion-content');
        const cardBtn = card.querySelector('.accordion-btn');
        if (cardContent) cardContent.classList.remove('open');
        if (cardBtn) cardBtn.classList.remove('active');
      }
    });
  }
  
  // Toggle the selected accordion
  if (!isOpen) {
    content.classList.add('open');
    btn.classList.add('active');
  } else {
    content.classList.remove('open');
    btn.classList.remove('active');
  }
}

// Navigate to test with fade animation
function openTest(file) {
  // Exit animation
  document.body.style.opacity = '0';
  document.body.style.transform = 'scale(0.95)';
  document.body.style.transition = 'all 0.3s ease';
  
  setTimeout(() => {
    window.location.href = file;
  }, 300);
}

// Generate background particles
function createParticles() {
  const container = document.getElementById('particles-bg');
  const particleCount = 15;
  
  for (let i = 0; i < particleCount; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    
    const size = Math.random() * 60 + 20;
    particle.style.width = size + 'px';
    particle.style.height = size + 'px';
    particle.style.left = Math.random() * 100 + '%';
    particle.style.top = Math.random() * 100 + '%';
    particle.style.animationDelay = Math.random() * 20 + 's';
    particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
    
    container.appendChild(particle);
  }
}

// Auto-count tests and categories
function countTests() {
  const testCount = document.querySelectorAll('.test-btn').length;
  const categoryCount = document.querySelectorAll('.card').length;
  
  document.getElementById('total-tests').textContent = testCount;
  document.getElementById('total-categories').textContent = categoryCount;
}

// Function to count tests within each section
function updateCounters() {
  // Get all accordion buttons that have a counter
  const accordionButtons = document.querySelectorAll('.accordion-btn');
  
  accordionButtons.forEach(button => {
    const counter = button.querySelector('.counter');
    if (!counter) return;
    
    // Get the next content container
    const content = button.nextElementSibling;
    if (!content) return;
    
    // Count all tests including those from subsections
    const allTests = content.querySelectorAll('.test-btn').length;
    
    // Build the counter text - only show number of tests
    let counterText = '';
    
    if (allTests > 0) {
      const testsText = allTests === 1 ? 'test' : 'tests';
      counterText = `${allTests} ${testsText}`;
    }
    
    counter.textContent = counterText;
  });
}


// Initialize on page load
window.addEventListener('load', () => {
  createParticles();
  countTests();
  updateCounters();
  
  // Fade in animation
  document.body.style.opacity = '1';
  document.body.style.transition = 'opacity 0.5s ease';
});
</script>
</body>
</html>
